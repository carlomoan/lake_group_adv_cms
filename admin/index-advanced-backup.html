<!doctype html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Petroleum & Gas - Advanced Content Management System</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
            rel="stylesheet">
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            :root {
                --primary: #667eea;
                --primary-dark: #5a6fd8;
                --success: #10b981;
                --danger: #ef4444;
                --warning: #f59e0b;
                --info: #3b82f6;
                --light: #f8fafc;
                --dark: #1e293b;
                --border: #e2e8f0;
                --text: #334155;
                --text-light: #64748b;
                --sidebar-width: 280px;
                --header-height: 70px;
            }

            body {
                font-family: 'Inter', sans-serif;
                background: var(--light);
                color: var(--text);
                line-height: 1.6;
            }

            /* Sidebar */
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                width: var(--sidebar-width);
                height: 100vh;
                background: white;
                border-right: 1px solid var(--border);
                z-index: 1000;
                overflow-y: auto;
                transition: transform 0.3s ease;
            }

            .sidebar.collapsed {
                transform: translateX(-100%);
            }

            .sidebar-header {
                padding: 20px;
                border-bottom: 1px solid var(--border);
                background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
                color: white;
            }

            .sidebar-title {
                font-size: 18px;
                font-weight: 600;
                margin-bottom: 5px;
            }

            .sidebar-subtitle {
                font-size: 12px;
                opacity: 0.8;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .sidebar-nav {
                padding: 20px 0;
            }

            .nav-section {
                margin-bottom: 30px;
            }

            .nav-section-title {
                padding: 0 20px;
                font-size: 11px;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                color: var(--text-light);
                margin-bottom: 10px;
            }

            .nav-item {
                position: relative;
            }

            .nav-link {
                display: flex;
                align-items: center;
                padding: 12px 20px;
                color: var(--text);
                text-decoration: none;
                transition: all 0.2s ease;
                border-right: 3px solid transparent;
            }

            .nav-link:hover {
                background: #f1f5f9;
                color: var(--primary);
            }

            .nav-link.active {
                background: #f1f5f9;
                color: var(--primary);
                border-right-color: var(--primary);
                font-weight: 500;
            }

            .nav-icon {
                width: 20px;
                margin-right: 12px;
                text-align: center;
            }

            .nav-badge {
                margin-left: auto;
                background: var(--danger);
                color: white;
                font-size: 10px;
                padding: 2px 6px;
                border-radius: 10px;
                font-weight: 600;
            }

            /* Main Content */
            .main-content {
                margin-left: var(--sidebar-width);
                min-height: 100vh;
                background: var(--light);
                transition: margin-left 0.3s ease;
            }

            .main-content.sidebar-collapsed {
                margin-left: 0;
            }

            /* Header */
            .header {
                height: var(--header-height);
                background: white;
                border-bottom: 1px solid var(--border);
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 30px;
                position: sticky;
                top: 0;
                z-index: 100;
            }

            .header-left {
                display: flex;
                align-items: center;
                gap: 20px;
            }

            .sidebar-toggle {
                background: none;
                border: none;
                font-size: 18px;
                color: var(--text);
                cursor: pointer;
                padding: 8px;
                border-radius: 8px;
                transition: background 0.2s;
            }

            .sidebar-toggle:hover {
                background: var(--light);
            }

            .breadcrumb {
                display: flex;
                align-items: center;
                gap: 8px;
                font-size: 14px;
            }

            .breadcrumb-item {
                color: var(--text-light);
            }

            .breadcrumb-item.active {
                color: var(--text);
                font-weight: 500;
            }

            .header-right {
                display: flex;
                align-items: center;
                gap: 15px;
            }

            .header-actions {
                display: flex;
                gap: 10px;
            }

            .btn {
                display: inline-flex;
                align-items: center;
                gap: 8px;
                padding: 8px 16px;
                border: none;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: all 0.2s ease;
                text-decoration: none;
                line-height: 1;
            }

            .btn-primary {
                background: var(--primary);
                color: white;
            }

            .btn-primary:hover {
                background: var(--primary-dark);
                transform: translateY(-1px);
            }

            .btn-secondary {
                background: white;
                color: var(--text);
                border: 1px solid var(--border);
            }

            .btn-secondary:hover {
                background: var(--light);
            }

            .btn-success {
                background: var(--success);
                color: white;
            }

            .btn-danger {
                background: var(--danger);
                color: white;
            }

            .btn-sm {
                padding: 6px 12px;
                font-size: 12px;
            }

            /* Content Area */
            .content {
                padding: 30px;
            }

            .content-header {
                margin-bottom: 30px;
            }

            .content-title {
                font-size: 28px;
                font-weight: 700;
                color: var(--dark);
                margin-bottom: 8px;
            }

            .content-subtitle {
                color: var(--text-light);
                font-size: 16px;
            }

            /* Cards */
            .card {
                background: white;
                border-radius: 12px;
                border: 1px solid var(--border);
                overflow: hidden;
                margin-bottom: 30px;
                box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            }

            .card-header {
                padding: 20px 25px;
                border-bottom: 1px solid var(--border);
                background: #fafbfc;
            }

            .card-title {
                font-size: 18px;
                font-weight: 600;
                color: var(--dark);
                margin: 0;
            }

            .card-subtitle {
                color: var(--text-light);
                font-size: 14px;
                margin-top: 4px;
            }

            .card-body {
                padding: 25px;
            }

            .card-footer {
                padding: 20px 25px;
                border-top: 1px solid var(--border);
                background: #fafbfc;
                display: flex;
                justify-content: flex-end;
                gap: 10px;
            }

            /* Tabs */
            .tabs {
                background: white;
                border-radius: 12px;
                border: 1px solid var(--border);
                overflow: hidden;
            }

            .tabs-header {
                display: flex;
                background: #fafbfc;
                border-bottom: 1px solid var(--border);
                overflow-x: auto;
            }

            .tab-button {
                background: none;
                border: none;
                padding: 15px 20px;
                cursor: pointer;
                font-size: 14px;
                font-weight: 500;
                color: var(--text-light);
                border-bottom: 3px solid transparent;
                transition: all 0.2s ease;
                white-space: nowrap;
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .tab-button:hover {
                background: rgba(102, 126, 234, 0.05);
                color: var(--primary);
            }

            .tab-button.active {
                color: var(--primary);
                border-bottom-color: var(--primary);
                background: white;
            }

            .tab-content {
                display: none;
                padding: 30px;
                max-height: 70vh;
                overflow-y: auto;
            }

            .tab-content.active {
                display: block;
            }

            /* Forms */
            .form-grid {
                display: grid;
                gap: 20px;
            }

            .form-grid.cols-2 {
                grid-template-columns: 1fr 1fr;
            }

            .form-grid.cols-3 {
                grid-template-columns: 1fr 1fr 1fr;
            }

            .form-group {
                margin-bottom: 20px;
            }

            .form-label {
                display: block;
                margin-bottom: 6px;
                font-weight: 500;
                color: var(--dark);
                font-size: 14px;
            }

            .form-label.required::after {
                content: '*';
                color: var(--danger);
                margin-left: 4px;
            }

            .form-label-small {
                display: block;
                margin-bottom: 4px;
                font-weight: 500;
                color: var(--dark);
                font-size: 12px;
            }

            .form-control {
                width: 100%;
                padding: 12px 16px;
                border: 2px solid var(--border);
                border-radius: 8px;
                font-size: 14px;
                transition: border-color 0.2s ease;
                background: white;
            }

            .form-control:focus {
                outline: none;
                border-color: var(--primary);
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
            }

            .form-control.error {
                border-color: var(--danger);
            }

            .form-help {
                font-size: 12px;
                color: var(--text-light);
                margin-top: 4px;
            }

            .form-error {
                font-size: 12px;
                color: var(--danger);
                margin-top: 4px;
            }

            textarea.form-control {
                min-height: 100px;
                resize: vertical;
            }

            /* File Upload */
            .file-upload {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                padding: 40px 20px;
                border: 2px dashed var(--border);
                border-radius: 8px;
                background: #fafbfc;
                transition: all 0.2s ease;
                cursor: pointer;
            }

            .file-upload:hover {
                border-color: var(--primary);
                background: rgba(102, 126, 234, 0.02);
            }

            .file-upload.dragover {
                border-color: var(--primary);
                background: rgba(102, 126, 234, 0.05);
            }

            .file-upload input {
                position: absolute;
                inset: 0;
                opacity: 0;
                cursor: pointer;
            }

            .file-upload-icon {
                font-size: 48px;
                color: var(--text-light);
                margin-bottom: 16px;
            }

            .file-upload-text {
                font-size: 16px;
                font-weight: 500;
                margin-bottom: 8px;
            }

            .file-upload-hint {
                font-size: 14px;
                color: var(--text-light);
            }

            /* Media Gallery */
            .media-gallery {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
                margin-top: 20px;
            }

            .media-item {
                position: relative;
                aspect-ratio: 1;
                border-radius: 8px;
                overflow: hidden;
                border: 2px solid transparent;
                cursor: pointer;
                transition: all 0.2s ease;
            }

            .media-item:hover {
                border-color: var(--primary);
                transform: scale(1.02);
            }

            .media-item.selected {
                border-color: var(--primary);
                box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
            }

            .media-item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .media-item-overlay {
                position: absolute;
                inset: 0;
                background: rgba(0, 0, 0, 0.7);
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transition: opacity 0.2s ease;
            }

            .media-item:hover .media-item-overlay {
                opacity: 1;
            }

            .media-item-actions {
                display: flex;
                gap: 8px;
            }

            .media-item-actions .btn {
                padding: 6px 8px;
                font-size: 12px;
            }

            /* Data Tables */
            .data-table {
                width: 100%;
                border-collapse: collapse;
                background: white;
                border-radius: 8px;
                overflow: hidden;
                border: 1px solid var(--border);
            }

            .data-table th {
                background: #fafbfc;
                padding: 12px 16px;
                text-align: left;
                font-weight: 600;
                color: var(--dark);
                border-bottom: 1px solid var(--border);
                font-size: 13px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .data-table td {
                padding: 12px 16px;
                border-bottom: 1px solid var(--border);
            }

            .data-table tr:hover {
                background: #fafbfc;
            }

            /* Notifications */
            .notification {
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 1000;
                transform: translateX(400px);
                transition: transform 0.3s ease;
                display: flex;
                align-items: center;
                gap: 10px;
                min-width: 300px;
            }

            .notification.show {
                transform: translateX(0);
            }

            .notification.success {
                background: var(--success);
            }

            .notification.error {
                background: var(--danger);
            }

            .notification.warning {
                background: var(--warning);
            }

            .notification.info {
                background: var(--info);
            }

            /* Loading Spinner */
            .loading {
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .spinner {
                width: 16px;
                height: 16px;
                border: 2px solid rgba(255, 255, 255, 0.3);
                border-top: 2px solid currentColor;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }

            @keyframes spin {
                to {
                    transform: rotate(360deg);
                }
            }

            /* Modal */
            .modal {
                position: fixed;
                inset: 0;
                background: rgba(0, 0, 0, 0.5);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                opacity: 0;
                visibility: hidden;
                transition: all 0.2s ease;
            }

            .modal.show {
                opacity: 1;
                visibility: visible;
            }

            .modal-content {
                background: white;
                border-radius: 12px;
                width: 90%;
                max-width: 600px;
                max-height: 90vh;
                overflow: hidden;
                transform: scale(0.9);
                transition: transform 0.2s ease;
            }

            .modal.show .modal-content {
                transform: scale(1);
            }

            .modal-header {
                padding: 20px 25px;
                border-bottom: 1px solid var(--border);
                display: flex;
                align-items: center;
                justify-content: space-between;
            }

            .modal-title {
                font-size: 18px;
                font-weight: 600;
                color: var(--dark);
            }

            .modal-close {
                background: none;
                border: none;
                font-size: 20px;
                color: var(--text-light);
                cursor: pointer;
                padding: 4px;
                border-radius: 4px;
                transition: background 0.2s;
            }

            .modal-close:hover {
                background: var(--light);
            }

            .modal-body {
                padding: 25px;
                max-height: 60vh;
                overflow-y: auto;
            }

            .modal-footer {
                padding: 20px 25px;
                border-top: 1px solid var(--border);
                display: flex;
                justify-content: flex-end;
                gap: 10px;
            }

            /* Stats Cards */
            .stats-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin-bottom: 30px;
            }

            .stat-card {
                background: white;
                border-radius: 12px;
                padding: 25px;
                border: 1px solid var(--border);
                text-align: center;
                transition: transform 0.2s ease;
            }

            .stat-card:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            }

            .stat-icon {
                width: 60px;
                height: 60px;
                border-radius: 12px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 24px;
                margin: 0 auto 15px;
                color: white;
            }

            .stat-icon.pages {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            }

            .stat-icon.media {
                background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            }

            .stat-icon.users {
                background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            }

            .stat-icon.analytics {
                background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            }

            .stat-number {
                font-size: 32px;
                font-weight: 700;
                color: var(--dark);
                margin-bottom: 5px;
            }

            .stat-label {
                color: var(--text-light);
                font-size: 14px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
                font-weight: 500;
            }

            /* Responsive */
            @media (max-width: 768px) {
                .sidebar {
                    transform: translateX(-100%);
                }

                .sidebar.show {
                    transform: translateX(0);
                }

                .main-content {
                    margin-left: 0;
                }

                .header {
                    padding: 0 20px;
                }

                .content {
                    padding: 20px;
                }

                .form-grid.cols-2,
                .form-grid.cols-3 {
                    grid-template-columns: 1fr;
                }

                .content-title {
                    font-size: 24px;
                }

                .stats-grid {
                    grid-template-columns: 1fr;
                }
            }

            /* Preview Frame */
            .preview-frame {
                width: 100%;
                height: 600px;
                border: 1px solid var(--border);
                border-radius: 8px;
                background: white;
            }

            /* Color Picker */
            .color-input-group {
                display: flex;
                align-items: center;
                gap: 8px;
            }

            .color-preview {
                width: 40px;
                height: 40px;
                border-radius: 8px;
                border: 2px solid var(--border);
                cursor: pointer;
            }

            input[type="color"] {
                opacity: 0;
                position: absolute;
                width: 40px;
                height: 40px;
                cursor: pointer;
            }

            /* Image Selector */
            .image-selector {
                display: flex;
                align-items: center;
                gap: 12px;
            }

            .image-preview {
                width: 60px;
                height: 60px;
                border-radius: 8px;
                border: 2px solid var(--border);
                object-fit: cover;
                cursor: pointer;
            }

            .image-preview.empty {
                background: var(--light);
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--text-light);
            }

            .image-preview.small {
                width: 80px;
                height: 60px;
            }

            .image-selector.small {
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .image-selector.small .image-preview {
                flex-shrink: 0;
            }

            /* Favicon Styles */
            .favicon-preview {
                width: 32px !important;
                height: 32px !important;
            }

            .favicon-preview-container {
                margin-top: 15px;
            }

            .favicon-browser-preview {
                background: #f5f5f5;
                border-radius: 8px;
                padding: 15px;
            }

            .browser-tab {
                background: white;
                border-radius: 8px 8px 0 0;
                padding: 8px 12px;
                display: inline-flex;
                align-items: center;
                gap: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
                max-width: 200px;
            }

            .favicon-preview-icon {
                width: 16px;
                height: 16px;
                flex-shrink: 0;
            }

            .tab-title {
                font-size: 13px;
                color: #333;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            /* Enhanced Navigation Styles */
            .dropdown-columns {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 20px;
                margin-top: 15px;
            }

            .dropdown-column {
                background: #f8f9fa;
                padding: 15px;
                border-radius: 8px;
                border: 1px solid var(--border);
            }

            .column-title {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 15px;
                color: var(--primary);
                font-size: 14px;
                font-weight: 600;
            }

            .submenu-header {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 15px;
            }

            .submenu-layout-preview {
                background: var(--light);
                padding: 5px 10px;
                border-radius: 4px;
                border: 1px solid var(--border);
            }

            .submenu-item {
                background: white;
                padding: 10px;
                border-radius: 6px;
                border: 1px solid var(--border);
                margin-bottom: 10px;
            }

            .submenu-actions {
                margin-top: 8px;
                display: flex;
                justify-content: flex-end;
            }

            .column-actions,
            .footer-actions {
                display: flex;
                justify-content: center;
                padding-top: 15px;
                border-top: 1px solid var(--border);
            }

            /* Footer Styling */
            .footer-columns {
                margin-top: 20px;
            }

            .footer-column {
                background: #f8f9fa;
            }

            .footer-column .card-header {
                background: var(--primary);
                color: white;
            }

            /* Button Sizes */
            .btn-xs {
                padding: 2px 6px;
                font-size: 11px;
                line-height: 1.2;
            }

            /* Form Enhancements */
            .form-label i {
                margin-right: 5px;
                color: var(--primary);
            }

            .section-styling-group {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 8px;
                margin-bottom: 25px;
                border: 1px solid var(--border);
            }

            .section-title {
                color: var(--primary);
                font-size: 16px;
                font-weight: 600;
                margin-bottom: 15px;
                display: flex;
                align-items: center;
            }

            .section-title i {
                margin-right: 8px;
            }

            /* Quick Actions */
            .quick-actions {
                position: fixed;
                bottom: 30px;
                right: 30px;
                z-index: 100;
            }

            .quick-action {
                display: flex;
                align-items: center;
                justify-content: center;
                width: 56px;
                height: 56px;
                border-radius: 50%;
                background: var(--primary);
                color: white;
                font-size: 24px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                cursor: pointer;
                transition: all 0.2s ease;
                margin-bottom: 12px;
            }

            .quick-action:hover {
                transform: scale(1.1);
                background: var(--primary-dark);
            }

            /* Empty State */
            .empty-state {
                text-align: center;
                padding: 60px 20px;
                color: var(--text-light);
            }

            .empty-state-icon {
                font-size: 64px;
                margin-bottom: 20px;
                opacity: 0.5;
            }

            .empty-state-title {
                font-size: 18px;
                font-weight: 600;
                margin-bottom: 8px;
                color: var(--text);
            }

            .empty-state-text {
                font-size: 14px;
                margin-bottom: 20px;
            }

            /* Logo Preview Styles */
            .logo-preview-container {
                display: flex;
                gap: 20px;
                margin-top: 15px;
                flex-wrap: wrap;
            }

            .logo-preview {
                flex: 1;
                min-width: 200px;
                padding: 20px;
                border: 2px dashed #ddd;
                border-radius: 8px;
                text-align: center;
                position: relative;
            }

            .logo-preview.light-bg {
                background: #ffffff;
                border-color: #e0e0e0;
            }

            .logo-preview.dark-bg {
                background: #333333;
                border-color: #555555;
            }

            .preview-label {
                display: block;
                font-size: 12px;
                font-weight: 600;
                margin-bottom: 10px;
                text-transform: uppercase;
                letter-spacing: 0.5px;
            }

            .logo-preview.light-bg .preview-label {
                color: #666;
            }

            .logo-preview.dark-bg .preview-label {
                color: #ccc;
            }

            .logo-preview img {
                max-width: 100%;
                height: auto;
                display: block;
                margin: 0 auto;
            }

            /* Component Selector Styles */
            .component-selector {
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                padding: 20px;
                background: #f8f9fa;
            }

            .component-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }

            .component-item {
                padding: 15px;
                border: 2px solid #e0e0e0;
                border-radius: 8px;
                background: white;
                cursor: pointer;
                transition: all 0.2s ease;
                text-align: center;
            }

            .component-item:hover {
                border-color: var(--primary);
                box-shadow: 0 2px 8px rgba(102, 126, 234, 0.15);
            }

            .component-item.selected {
                border-color: var(--primary);
                background: rgba(102, 126, 234, 0.05);
            }

            .component-icon {
                font-size: 24px;
                color: var(--primary);
                margin-bottom: 8px;
            }

            .component-name {
                font-weight: 600;
                margin-bottom: 4px;
                color: var(--text);
            }

            .component-description {
                font-size: 12px;
                color: var(--text-muted);
                line-height: 1.4;
            }

            /* Action Buttons Styles */
            .action-buttons {
                display: flex;
                gap: 5px;
                flex-wrap: wrap;
            }

            .action-buttons .btn {
                min-width: 32px;
            }

            /* Selected Components Styles */
            .selected-components {
                display: flex;
                flex-direction: column;
                gap: 10px;
                background: #f8f9fa;
                padding: 15px;
                border-radius: 8px;
                border: 1px solid #e0e0e0;
            }

            .selected-component {
                display: flex;
                align-items: center;
                gap: 10px;
                padding: 10px;
                background: white;
                border-radius: 5px;
                border: 1px solid #e0e0e0;
            }

            .component-order {
                font-weight: 600;
                color: var(--primary);
                min-width: 25px;
            }

            .component-label {
                flex: 1;
                font-weight: 500;
            }

            .empty-state-small {
                text-align: center;
                padding: 20px;
                color: var(--text-muted);
                font-style: italic;
            }
        </style>
    </head>

    <body>
        <div id="app">
            <!-- Sidebar -->
            <aside class="sidebar" :class="{ collapsed: sidebarCollapsed, show: showMobileSidebar }">
                <div class="sidebar-header">
                    <div class="sidebar-title">Petroleum & Gas CMS</div>
                    <div class="sidebar-subtitle">Advanced Content Management</div>
                </div>

                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <div class="nav-section-title">Dashboard</div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'dashboard' }"
                                @click.prevent="setActiveTab('dashboard')">
                                <i class="nav-icon fas fa-chart-line"></i>
                                Dashboard
                            </a>
                        </div>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Content Management</div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'pages' }"
                                @click.prevent="setActiveTab('pages')">
                                <i class="nav-icon fas fa-file-alt"></i>
                                Pages
                                <span class="nav-badge" v-if="stats.pages">{{ stats.pages }}</span>
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'homepage' }"
                                @click.prevent="setActiveTab('homepage')">
                                <i class="nav-icon fas fa-home"></i>
                                Homepage
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'navigation' }"
                                @click.prevent="setActiveTab('navigation')" <i class="nav-icon fas fa-bars"></i>
                                Navigation
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'media' }"
                                @click.prevent="setActiveTab('media')">
                                <i class="nav-icon fas fa-images"></i>
                                Media Library
                                <span class="nav-badge" v-if="stats.media">{{ stats.media }}</span>
                            </a>
                        </div>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Design & Layout</div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'themes' }"
                                @click.prevent="setActiveTab('themes')">
                                <i class="nav-icon fas fa-palette"></i>
                                Theme Settings
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'widgets' }"
                                @click.prevent="setActiveTab('widgets')">
                                <i class="nav-icon fas fa-th-large"></i>
                                Widgets
                            </a>
                        </div>
                    </div>

                    <div class="nav-section">
                        <div class="nav-section-title">Settings</div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'settings' }"
                                @click.prevent="setActiveTab('settings')">
                                <i class="nav-icon fas fa-cog"></i>
                                General Settings
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'seo' }"
                                @click.prevent="setActiveTab('seo')">
                                <i class="nav-icon fas fa-search"></i>
                                SEO Settings
                            </a>
                        </div>
                        <div class="nav-item">
                            <a href="#" class="nav-link" :class="{ active: activeTab === 'backup' }"
                                @click.prevent="setActiveTab('backup')">
                                <i class="nav-icon fas fa-download"></i>
                                Backup & Export
                            </a>
                        </div>
                    </div>
                </nav>
            </aside>

            <!-- Main Content -->
            <main class="main-content" :class="{ 'sidebar-collapsed': sidebarCollapsed }">
                <!-- Header -->
                <header class="header">
                    <div class="header-left">
                        <button class="sidebar-toggle" @click="toggleSidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <nav class="breadcrumb">
                            <span class="breadcrumb-item">CMS</span>
                            <i class="fas fa-chevron-right"></i>
                            <span class="breadcrumb-item active">{{ getTabTitle(activeTab) }}</span>
                        </nav>
                    </div>
                    <div class="header-right">
                        <div class="header-actions">
                            <button class="btn btn-secondary btn-sm" @click="previewSite">
                                <i class="fas fa-eye"></i>
                                Preview Site
                            </button>
                            <button class="btn btn-primary btn-sm" @click="saveAllContent" :disabled="saving">
                                <span v-if="saving" class="loading">
                                    <span class="spinner"></span>
                                    Saving...
                                </span>
                                <span v-else>
                                    <i class="fas fa-save"></i>
                                    Save Changes
                                </span>
                            </button>
                        </div>
                    </div>
                </header>

                <!-- Content -->
                <div class="content">
                    <!-- Dashboard Tab -->
                    <div v-if="activeTab === 'dashboard'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Dashboard</h1>
                            <p class="content-subtitle">Welcome to your content management system</p>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-icon pages">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="stat-number">{{ stats.pages || 0 }}</div>
                                <div class="stat-label">Pages</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon media">
                                    <i class="fas fa-images"></i>
                                </div>
                                <div class="stat-number">{{ stats.media || 0 }}</div>
                                <div class="stat-label">Media Files</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon users">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-number">{{ stats.visitors || '1.2K' }}</div>
                                <div class="stat-label">Monthly Visitors</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon analytics">
                                    <i class="fas fa-chart-bar"></i>
                                </div>
                                <div class="stat-number">{{ stats.performance || '98%' }}</div>
                                <div class="stat-label">Site Performance</div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Activity</h3>
                                <p class="card-subtitle">Latest changes to your website</p>
                            </div>
                            <div class="card-body">
                                <div v-if="recentActivity.length === 0" class="empty-state">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-clock"></i>
                                    </div>
                                    <div class="empty-state-title">No Recent Activity</div>
                                    <div class="empty-state-text">Your recent changes will appear here</div>
                                </div>
                                <div v-else>
                                    <!-- Activity list will go here -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Pages Tab -->
                    <div v-if="activeTab === 'pages'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Pages Management</h1>
                            <p class="content-subtitle">Create and manage your website pages</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">All Pages</h3>
                                <button class="btn btn-primary" @click="createNewPage">
                                    <i class="fas fa-plus"></i>
                                    Create New Page
                                </button>
                            </div>
                            <div class="card-body">
                                <table class="data-table" v-if="pages.length > 0">
                                    <thead>
                                        <tr>
                                            <th>Title</th>
                                            <th>Slug</th>
                                            <th>Status</th>
                                            <th>Last Modified</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="page in pages" :key="page.id">
                                            <td>{{ page.title }}</td>
                                            <td><code>{{ page.slug }}</code></td>
                                            <td>
                                                <span class="badge" :class="page.status">{{ page.status }}</span>
                                            </td>
                                            <td>{{ formatDate(page.lastModified) }}</td>
                                            <td>
                                                <div class="action-buttons">
                                                    <button class="btn btn-sm btn-primary" @click="editPage(page)"
                                                        title="Edit Page Settings">
                                                        <i class="fas fa-edit"></i>
                                                    </button>
                                                    <button class="btn btn-sm btn-info" @click="managePageContent(page)"
                                                        title="Manage Content & Components">
                                                        <i class="fas fa-cogs"></i>
                                                    </button>
                                                    <a v-if="page.status === 'published'" :href="'/pages/' + page.slug"
                                                        target="_blank" class="btn btn-sm btn-success"
                                                        title="View Published Page">
                                                        <i class="fas fa-external-link-alt"></i>
                                                    </a>
                                                    <button class="btn btn-sm btn-danger" @click="deletePage(page)"
                                                        title="Delete Page">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                                <div v-else class="empty-state">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-file-alt"></i>
                                    </div>
                                    <div class="empty-state-title">No Pages Yet</div>
                                    <div class="empty-state-text">Create your first page to get started</div>
                                    <button class="btn btn-primary" @click="createNewPage">
                                        <i class="fas fa-plus"></i>
                                        Create First Page
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Homepage Tab -->
                    <div v-if="activeTab === 'homepage'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Homepage Management</h1>
                            <p class="content-subtitle">Customize your homepage content and layout</p>
                        </div>

                        <div class="tabs">
                            <div class="tabs-header">
                                <button class="tab-button" :class="{ active: homepageTab === 'hero' }"
                                    @click="homepageTab = 'hero'">
                                    <i class="fas fa-image"></i>
                                    Hero Section
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'services' }"
                                    @click="homepageTab = 'services'">
                                    <i class="fas fa-cogs"></i>
                                    Services
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'about' }"
                                    @click="homepageTab = 'about'">
                                    <i class="fas fa-info-circle"></i>
                                    About Section
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'features' }"
                                    @click="homepageTab = 'features'">
                                    <i class="fas fa-star"></i>
                                    Features
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'news' }"
                                    @click="homepageTab = 'news'">
                                    <i class="fas fa-newspaper"></i>
                                    Latest News
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'quote' }"
                                    @click="homepageTab = 'quote'">
                                    <i class="fas fa-quote-right"></i>
                                    Quote Section
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'projects' }"
                                    @click="homepageTab = 'projects'">
                                    <i class="fas fa-briefcase"></i>
                                    Projects
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'newsletter' }"
                                    @click="homepageTab = 'newsletter'">
                                    <i class="fas fa-envelope"></i>
                                    Newsletter
                                </button>
                                <button class="tab-button" :class="{ active: homepageTab === 'navbar' }"
                                    @click="homepageTab = 'navbar'">
                                    <i class="fas fa-bars"></i>
                                    Navbar & Menu
                                </button>
                            </div>

                            <!-- Hero Section Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'hero' }">
                                <h3>Hero Slider Management</h3>
                                <p class="form-help">Manage your homepage hero slides</p>

                                <div v-for="(slide, index) in content?.hero?.slides || []" :key="index" class="card"
                                    style="margin-bottom: 20px;">
                                    <div class="card-header">
                                        <h4 class="card-title">Slide {{ index + 1 }}</h4>
                                        <button class="btn btn-danger btn-sm" @click="removeHeroSlide(index)">
                                            <i class="fas fa-trash"></i>
                                            Remove
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Title</label>
                                                <input type="text" class="form-control" v-model="slide.title"
                                                    placeholder="Slide title">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Subtitle</label>
                                                <input type="text" class="form-control" v-model="slide.subtitle"
                                                    placeholder="Slide subtitle">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Background Image</label>
                                            <div class="image-selector">
                                                <img v-if="slide.image" :src="slide.image" class="image-preview"
                                                    @click="selectImageForSlide(index)">
                                                <div v-else class="image-preview empty"
                                                    @click="selectImageForSlide(index)">
                                                    <i class="fas fa-image"></i>
                                                </div>
                                                <div>
                                                    <button class="btn btn-secondary btn-sm"
                                                        @click="selectImageForSlide(index)">
                                                        <i class="fas fa-folder-open"></i>
                                                        Select Image
                                                    </button>
                                                    <p class="form-help">Recommended size: 1920x1080px</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Action Buttons</label>
                                            <div v-for="(button, btnIndex) in slide.buttons || []" :key="btnIndex"
                                                class="form-grid cols-3" style="margin-bottom: 10px;">
                                                <input type="text" class="form-control" v-model="button.text"
                                                    placeholder="Button text">
                                                <input type="text" class="form-control" v-model="button.url"
                                                    placeholder="Button URL">
                                                <select class="form-control" v-model="button.type">
                                                    <option value="primary">Primary</option>
                                                    <option value="secondary">Secondary</option>
                                                </select>
                                            </div>
                                            <button class="btn btn-secondary btn-sm" @click="addButtonToSlide(index)">
                                                <i class="fas fa-plus"></i>
                                                Add Button
                                            </button>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Text Colors</label>
                                            <div class="form-grid cols-2">
                                                <div>
                                                    <label class="form-label-small">Title Color</label>
                                                    <select class="form-control" v-model="slide.titleColor">
                                                        <option value="primary">Primary Color</option>
                                                        <option value="secondary">Secondary Color</option>
                                                        <option value="tertiary">Tertiary Color</option>
                                                        <option value="white">White</option>
                                                        <option value="black">Black</option>
                                                        <option value="custom">Custom</option>
                                                    </select>
                                                    <input v-if="slide.titleColor === 'custom'" type="color"
                                                        class="form-control" v-model="slide.titleColorCustom"
                                                        style="margin-top: 5px;">
                                                </div>
                                                <div>
                                                    <label class="form-label-small">Subtitle Color</label>
                                                    <select class="form-control" v-model="slide.subtitleColor">
                                                        <option value="primary">Primary Color</option>
                                                        <option value="secondary">Secondary Color</option>
                                                        <option value="tertiary">Tertiary Color</option>
                                                        <option value="white">White</option>
                                                        <option value="black">Black</option>
                                                        <option value="custom">Custom</option>
                                                    </select>
                                                    <input v-if="slide.subtitleColor === 'custom'" type="color"
                                                        class="form-control" v-model="slide.subtitleColorCustom"
                                                        style="margin-top: 5px;">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" @click="addHeroSlide">
                                    <i class="fas fa-plus"></i>
                                    Add New Slide
                                </button>
                            </div>

                            <!-- Services Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'services' }">
                                <h3>Services Section</h3>
                                <p class="form-help">Manage your services showcase</p>

                                <div class="form-grid cols-2" style="margin-bottom: 30px;">
                                    <div class="form-group">
                                        <label class="form-label">Section Title</label>
                                        <input type="text" class="form-control" v-model="content.services.sectionTitle"
                                            placeholder="Our Services">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Section Subtitle</label>
                                        <input type="text" class="form-control"
                                            v-model="content.services.sectionSubtitle" placeholder="What we offer">
                                    </div>
                                </div>

                                <div v-for="(service, index) in content?.services?.items || []" :key="index"
                                    class="card" style="margin-bottom: 20px;">
                                    <div class="card-header">
                                        <h4 class="card-title">Service {{ index + 1 }}</h4>
                                        <button class="btn btn-danger btn-sm" @click="removeService(index)">
                                            <i class="fas fa-trash"></i>
                                            Remove
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Service Title</label>
                                                <input type="text" class="form-control" v-model="service.title"
                                                    placeholder="Service name">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Service Icon/Image</label>
                                                <div class="image-selector">
                                                    <img v-if="service.image" :src="service.image" class="image-preview"
                                                        @click="selectImageForService(index)">
                                                    <div v-else class="image-preview empty"
                                                        @click="selectImageForService(index)">
                                                        <i class="fas fa-cog"></i>
                                                    </div>
                                                    <button class="btn btn-secondary btn-sm"
                                                        @click="selectImageForService(index)">
                                                        <i class="fas fa-folder-open"></i>
                                                        Select Image
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Description</label>
                                            <textarea class="form-control" v-model="service.description"
                                                placeholder="Service description"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" @click="addService">
                                    <i class="fas fa-plus"></i>
                                    Add New Service
                                </button>
                            </div>

                            <!-- About Section Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'about' }">
                                <h3>About Section</h3>
                                <p class="form-help">Configure your about section content</p>

                                <div class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Section Title</label>
                                        <input type="text" class="form-control" v-model="content.aboutSection.title"
                                            placeholder="About us title">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Section Image</label>
                                        <div class="image-selector">
                                            <img v-if="content.aboutSection.image" :src="content.aboutSection.image"
                                                class="image-preview" @click="selectAboutImage">
                                            <div v-else class="image-preview empty" @click="selectAboutImage">
                                                <i class="fas fa-user"></i>
                                            </div>
                                            <button class="btn btn-secondary btn-sm" @click="selectAboutImage">
                                                <i class="fas fa-folder-open"></i>
                                                Select Image
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Description</label>
                                    <textarea class="form-control" v-model="content.aboutSection.description" rows="6"
                                        placeholder="About section description"></textarea>
                                </div>
                            </div>

                            <!-- Features Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'features' }">
                                <h3>Features Section</h3>
                                <p class="form-help">Showcase your key features and capabilities</p>

                                <div class="form-grid cols-2" style="margin-bottom: 30px;">
                                    <div class="form-group">
                                        <label class="form-label">Section Title</label>
                                        <input type="text" class="form-control" v-model="content.featuresSection.title"
                                            placeholder="Why Choose Us">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Section Subtitle</label>
                                        <input type="text" class="form-control"
                                            v-model="content.featuresSection.subtitle" placeholder="Our advantages">
                                    </div>
                                </div>

                                <div v-for="(feature, index) in content?.featuresSection?.items || []" :key="index"
                                    class="card" style="margin-bottom: 20px;">
                                    <div class="card-header">
                                        <h4 class="card-title">Feature {{ index + 1 }}</h4>
                                        <button class="btn btn-danger btn-sm" @click="removeFeature(index)">
                                            <i class="fas fa-trash"></i>
                                            Remove
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Feature Title</label>
                                                <input type="text" class="form-control" v-model="feature.title"
                                                    placeholder="Feature name">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Feature Icon</label>
                                                <div class="image-selector">
                                                    <img v-if="feature.icon" :src="feature.icon" class="image-preview"
                                                        @click="selectImageForFeature(index)">
                                                    <div v-else class="image-preview empty"
                                                        @click="selectImageForFeature(index)">
                                                        <i class="fas fa-star"></i>
                                                    </div>
                                                    <button class="btn btn-secondary btn-sm"
                                                        @click="selectImageForFeature(index)">
                                                        <i class="fas fa-folder-open"></i>
                                                        Select Icon
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Description</label>
                                            <textarea class="form-control" v-model="feature.description"
                                                placeholder="Feature description"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" @click="addFeature">
                                    <i class="fas fa-plus"></i>
                                    Add New Feature
                                </button>
                            </div>

                            <!-- News Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'news' }">
                                <h3>Latest News</h3>
                                <p class="form-help">Manage your latest news and updates</p>

                                <div v-for="(news, index) in content?.latestNews || []" :key="index" class="card"
                                    style="margin-bottom: 20px;">
                                    <div class="card-header">
                                        <h4 class="card-title">News Article {{ index + 1 }}</h4>
                                        <button class="btn btn-danger btn-sm" @click="removeNews(index)">
                                            <i class="fas fa-trash"></i>
                                            Remove
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Article Title</label>
                                                <input type="text" class="form-control" v-model="news.title"
                                                    placeholder="News title">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Publication Date</label>
                                                <input type="date" class="form-control" v-model="news.date">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Featured Image</label>
                                            <div class="image-selector">
                                                <img v-if="news.image" :src="news.image" class="image-preview"
                                                    @click="selectImageForNews(index)">
                                                <div v-else class="image-preview empty"
                                                    @click="selectImageForNews(index)">
                                                    <i class="fas fa-newspaper"></i>
                                                </div>
                                                <button class="btn btn-secondary btn-sm"
                                                    @click="selectImageForNews(index)">
                                                    <i class="fas fa-folder-open"></i>
                                                    Select Image
                                                </button>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Excerpt</label>
                                            <textarea class="form-control" v-model="news.excerpt"
                                                placeholder="Brief description of the article"></textarea>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Article Link</label>
                                            <input type="text" class="form-control" v-model="news.link"
                                                placeholder="Link to full article">
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" @click="addNews">
                                    <i class="fas fa-plus"></i>
                                    Add News Article
                                </button>
                            </div>

                            <!-- Quote Section Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'quote' }">
                                <h3>Quote Section Management</h3>
                                <p class="form-help">Manage your full-width quote section</p>

                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-quote-right"></i> Quote Content</h4>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-group">
                                            <label class="form-label">Quote Text</label>
                                            <textarea class="form-control" rows="4" v-model="content.quoteSection.text"
                                                placeholder="Enter your inspirational quote or company message...">
                                        </textarea>
                                            <div class="form-help">This quote will be displayed in a full-width section
                                                with prominent styling</div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Quote Attribution (Optional)</label>
                                            <input type="text" class="form-control"
                                                v-model="content.quoteSection.author"
                                                placeholder="- Author Name or Company">
                                        </div>

                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Background Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.quoteSection?.backgroundColor || '#FFD200' }"
                                                        @click="$refs.quoteBgInput.click()">
                                                        <input type="color" ref="quoteBgInput"
                                                            v-model="content.quoteSection.backgroundColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.quoteSection.backgroundColor"
                                                        placeholder="#FFD200">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Text Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.quoteSection?.textColor || '#333333' }"
                                                        @click="$refs.quoteTextInput.click()">
                                                        <input type="color" ref="quoteTextInput"
                                                            v-model="content.quoteSection.textColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.quoteSection.textColor" placeholder="#333333">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Font Size</label>
                                            <div class="form-grid cols-3">
                                                <button class="btn btn-secondary"
                                                    :class="{ 'btn-primary': content?.quoteSection?.fontSize === 'small' }"
                                                    @click="content.quoteSection.fontSize = 'small'">Small</button>
                                                <button class="btn btn-secondary"
                                                    :class="{ 'btn-primary': content?.quoteSection?.fontSize === 'medium' || !content?.quoteSection?.fontSize }"
                                                    @click="content.quoteSection.fontSize = 'medium'">Medium</button>
                                                <button class="btn btn-secondary"
                                                    :class="{ 'btn-primary': content?.quoteSection?.fontSize === 'large' }"
                                                    @click="content.quoteSection.fontSize = 'large'">Large</button>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">
                                                <input type="checkbox" v-model="content.quoteSection.enabled"
                                                    style="margin-right: 8px;">
                                                Show Quote Section
                                            </label>
                                            <div class="form-help">Uncheck to hide the quote section from your website
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Projects Section Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'projects' }">
                                <h3>Projects Section Management</h3>
                                <p class="form-help">Manage your latest projects showcase</p>

                                <!-- Projects Section Settings -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-cog"></i> Section Settings</h4>
                                        <p class="card-subtitle">Configure projects section title, subtitle and display
                                            options</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Section Title</label>
                                                <input type="text" v-model="content.projectsSection.title"
                                                    placeholder="Latest Projects" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label>Section Subtitle</label>
                                                <textarea v-model="content.projectsSection.subtitle"
                                                    placeholder="Describe your projects section..." class="form-control"
                                                    rows="3"></textarea>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label class="checkbox-label">
                                                    <input type="checkbox"
                                                        v-model="content.projectsSection.showMoreButton">
                                                    <span>Show "More Projects" Button</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div v-if="content.projectsSection.showMoreButton" class="form-row">
                                            <div class="form-group">
                                                <label>Button Text</label>
                                                <input type="text" v-model="content.projectsSection.moreButtonText"
                                                    placeholder="MORE PROJECT" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label>Button Link</label>
                                                <input type="text" v-model="content.projectsSection.moreButtonLink"
                                                    placeholder="/projects" class="form-control">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Projects Management -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-briefcase"></i> Projects Management</h4>
                                        <p class="card-subtitle">Add, edit, and manage your project portfolio</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-actions" style="margin-bottom: 20px;">
                                            <button type="button" @click="addProject" class="btn btn-primary">
                                                <i class="fas fa-plus"></i> Add New Project
                                            </button>
                                        </div>

                                        <div v-for="(project, index) in content.projectsSection.projects || []"
                                            :key="index" class="card"
                                            style="margin-bottom: 20px; border: 1px solid var(--border);">
                                            <div class="card-header"
                                                style="display: flex; justify-content: space-between; align-items: center;">
                                                <h4 class="card-title" style="margin: 0;">
                                                    <i class="fas fa-folder"></i>
                                                    Project {{ index + 1 }}: {{ project.title || 'Untitled' }}
                                                </h4>
                                                <button type="button" @click="removeProject(index)"
                                                    class="btn btn-danger btn-sm">
                                                    <i class="fas fa-trash"></i> Remove
                                                </button>
                                            </div>
                                            <div class="card-body">
                                                <div class="form-row">
                                                    <div class="form-group">
                                                        <label>Project Title</label>
                                                        <input type="text" v-model="project.title"
                                                            placeholder="Project Name" class="form-control">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Category</label>
                                                        <input type="text" v-model="project.category"
                                                            placeholder="e.g., Oil Extraction, Refinement"
                                                            class="form-control">
                                                    </div>
                                                </div>

                                                <div class="form-row">
                                                    <div class="form-group">
                                                        <label>Project Image URL</label>
                                                        <input type="url" v-model="project.image"
                                                            placeholder="https://example.com/project-image.jpg"
                                                            class="form-control">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Project Link</label>
                                                        <input type="url" v-model="project.link"
                                                            placeholder="https://example.com/project-details"
                                                            class="form-control">
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label>Description</label>
                                                    <textarea v-model="project.description"
                                                        placeholder="Brief project description..." class="form-control"
                                                        rows="2"></textarea>
                                                </div>

                                                <!-- Image Preview -->
                                                <div v-if="project.image" class="form-group">
                                                    <label>Image Preview</label>
                                                    <div style="max-width: 200px;">
                                                        <img :src="project.image" :alt="project.title"
                                                            style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px; border: 1px solid var(--border);">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div v-if="!content.projectsSection.projects || content.projectsSection.projects.length === 0"
                                            class="empty-state">
                                            <i class="fas fa-briefcase fa-3x"></i>
                                            <h4>No Projects Added</h4>
                                            <p>Click "Add New Project" to start showcasing your work</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Newsletter Section Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'newsletter' }">
                                <h3>Newsletter Section Management</h3>
                                <p class="form-help">Configure your newsletter signup section</p>

                                <!-- Newsletter Content -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-envelope"></i> Newsletter Content</h4>
                                        <p class="card-subtitle">Customize newsletter section text and appearance</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Newsletter Title</label>
                                                <input type="text" v-model="content.newsletter.title"
                                                    placeholder="Get Latest Offers" class="form-control">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label>Newsletter Subtitle</label>
                                            <textarea v-model="content.newsletter.subtitle"
                                                placeholder="Describe your newsletter benefits..." class="form-control"
                                                rows="3"></textarea>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label class="checkbox-label">
                                                    <input type="checkbox" v-model="content.newsletter.enabled">
                                                    <span>Enable Newsletter Section</span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Newsletter Form Settings -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-cog"></i> Form Settings</h4>
                                        <p class="card-subtitle">Configure newsletter form behavior and integration</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Form Action URL</label>
                                                <input type="url" v-model="content.newsletter.actionUrl"
                                                    placeholder="https://your-newsletter-service.com/subscribe"
                                                    class="form-control">
                                                <small class="form-text">URL where form submissions will be sent</small>
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Name Field Placeholder</label>
                                                <input type="text" v-model="content.newsletter.namePlaceholder"
                                                    placeholder="Your Name" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label>Email Field Placeholder</label>
                                                <input type="text" v-model="content.newsletter.emailPlaceholder"
                                                    placeholder="Your Email" class="form-control">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Submit Button Text</label>
                                                <input type="text" v-model="content.newsletter.buttonText"
                                                    placeholder="Subscribe" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label>Success Message</label>
                                                <input type="text" v-model="content.newsletter.successMessage"
                                                    placeholder="Thank you for subscribing!" class="form-control">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label class="checkbox-label">
                                                    <input type="checkbox" v-model="content.newsletter.requireName">
                                                    <span>Require Name Field</span>
                                                </label>
                                            </div>
                                            <div class="form-group">
                                                <label class="checkbox-label">
                                                    <input type="checkbox" v-model="content.newsletter.showPrivacyText">
                                                    <span>Show Privacy Text</span>
                                                </label>
                                            </div>
                                        </div>

                                        <div v-if="content.newsletter.showPrivacyText" class="form-group">
                                            <label>Privacy Text</label>
                                            <textarea v-model="content.newsletter.privacyText"
                                                placeholder="We respect your privacy and will never share your information."
                                                class="form-control" rows="2"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <!-- Newsletter Styling -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-paint-brush"></i> Section Styling</h4>
                                        <p class="card-subtitle">Customize newsletter section appearance</p>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Background Color</label>
                                                <input type="color" v-model="content.newsletter.backgroundColor"
                                                    class="form-control form-control-color">
                                            </div>
                                            <div class="form-group">
                                                <label>Text Color</label>
                                                <input type="color" v-model="content.newsletter.textColor"
                                                    class="form-control form-control-color">
                                            </div>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Button Background Color</label>
                                                <input type="color" v-model="content.newsletter.buttonColor"
                                                    class="form-control form-control-color">
                                            </div>
                                            <div class="form-group">
                                                <label>Button Text Color</label>
                                                <input type="color" v-model="content.newsletter.buttonTextColor"
                                                    class="form-control form-control-color">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Navbar & Menu Tab -->
                            <div class="tab-content" :class="{ active: homepageTab === 'navbar' }">
                                <h3>Navbar & Menu Management</h3>
                                <p class="form-help">Configure your website navigation and styling</p>

                                <!-- Navigation Bar Styling -->
                                <div class="card">
                                    <div class="card-header">
                                        <h4 class="card-title"><i class="fas fa-bars"></i> Navigation Bar Styling</h4>
                                        <p class="card-subtitle">Customize navigation appearance and behavior</p>
                                    </div>
                                    <div class="card-body">
                                        <!-- Navbar Background Settings -->
                                        <div class="form-group">
                                            <label class="form-label">Navbar Background Type</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.navbar.backgroundType">
                                                <option value="color">Solid Color</option>
                                                <option value="gradient">Gradient</option>
                                                <option value="image">Background Image</option>
                                            </select>
                                        </div>

                                        <div v-if="content?.siteSettings?.navbar?.backgroundType === 'color'"
                                            class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Navbar Background Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.backgroundColor || '#ffffff' }"
                                                        @click="$refs.navbarBgInput.click()">
                                                        <input type="color" ref="navbarBgInput"
                                                            v-model="content.siteSettings.navbar.backgroundColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.backgroundColor"
                                                        placeholder="#ffffff">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Navbar Text Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.textColor || '#333333' }"
                                                        @click="$refs.navbarTextInput.click()">
                                                        <input type="color" ref="navbarTextInput"
                                                            v-model="content.siteSettings.navbar.textColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.textColor"
                                                        placeholder="#333333">
                                                </div>
                                            </div>
                                        </div>

                                        <div v-if="content?.siteSettings?.navbar?.backgroundType === 'gradient'"
                                            class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Gradient Start Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.gradientStart || '#FFD200' }"
                                                        @click="$refs.navbarGradientStartInput.click()">
                                                        <input type="color" ref="navbarGradientStartInput"
                                                            v-model="content.siteSettings.navbar.gradientStart">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.gradientStart"
                                                        placeholder="#FFD200">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Gradient End Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.gradientEnd || '#FF6B35' }"
                                                        @click="$refs.navbarGradientEndInput.click()">
                                                        <input type="color" ref="navbarGradientEndInput"
                                                            v-model="content.siteSettings.navbar.gradientEnd">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.gradientEnd"
                                                        placeholder="#FF6B35">
                                                </div>
                                            </div>
                                        </div>

                                        <div v-if="content?.siteSettings?.navbar?.backgroundType === 'image'"
                                            class="form-group">
                                            <label class="form-label">Navbar Background Image</label>
                                            <div class="image-selector">
                                                <img v-if="content?.siteSettings?.navbar?.backgroundImage"
                                                    :src="content.siteSettings.navbar.backgroundImage"
                                                    class="image-preview" @click="selectNavbarBackground">
                                                <div v-else class="image-preview empty" @click="selectNavbarBackground">
                                                    <i class="fas fa-image"></i>
                                                </div>
                                                <div>
                                                    <button class="btn btn-secondary btn-sm"
                                                        @click="selectNavbarBackground">
                                                        <i class="fas fa-folder-open"></i>
                                                        Select Background Image
                                                    </button>
                                                    <p class="form-help">Recommended: 1920x120px, PNG/JPG</p>
                                                </div>
                                            </div>
                                            <div class="form-grid cols-3" style="margin-top: 15px;">
                                                <div class="form-group">
                                                    <label class="form-label">Image Position</label>
                                                    <select class="form-control"
                                                        v-model="content.siteSettings.navbar.backgroundPosition">
                                                        <option value="center center">Center</option>
                                                        <option value="left center">Left</option>
                                                        <option value="right center">Right</option>
                                                        <option value="center top">Top</option>
                                                        <option value="center bottom">Bottom</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Image Repeat</label>
                                                    <select class="form-control"
                                                        v-model="content.siteSettings.navbar.backgroundRepeat">
                                                        <option value="no-repeat">No Repeat</option>
                                                        <option value="repeat">Repeat</option>
                                                        <option value="repeat-x">Repeat X</option>
                                                        <option value="repeat-y">Repeat Y</option>
                                                    </select>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Image Size</label>
                                                    <select class="form-control"
                                                        v-model="content.siteSettings.navbar.backgroundSize">
                                                        <option value="cover">Cover</option>
                                                        <option value="contain">Contain</option>
                                                        <option value="auto">Auto</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Additional Navbar Settings -->
                                        <div class="form-grid cols-3">
                                            <div class="form-group">
                                                <label class="form-label">Navbar Position</label>
                                                <select class="form-control"
                                                    v-model="content.siteSettings.navbar.position">
                                                    <option value="fixed">Fixed Top</option>
                                                    <option value="sticky">Sticky</option>
                                                    <option value="static">Static</option>
                                                </select>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Transparency (%)</label>
                                                <input type="range" class="form-control"
                                                    v-model="content.siteSettings.navbar.opacity" min="0" max="100"
                                                    step="5">
                                                <div class="form-help">{{ content?.siteSettings?.navbar?.opacity || 100
                                                    }}%</div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Shadow</label>
                                                <select class="form-control"
                                                    v-model="content.siteSettings.navbar.shadow">
                                                    <option value="none">None</option>
                                                    <option value="small">Small</option>
                                                    <option value="medium">Medium</option>
                                                    <option value="large">Large</option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- Dropdown Menu Styling -->
                                        <div class="form-group" style="margin-top: 30px;">
                                            <h4 class="form-label"><i class="fas fa-chevron-down"></i> Dropdown Menu
                                                Settings</h4>
                                        </div>

                                        <div class="form-group">
                                            <label class="form-label">Dropdown Background Type</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.navbar.dropdown.backgroundType">
                                                <option value="color">Solid Color</option>
                                                <option value="gradient">Gradient</option>
                                                <option value="image">Background Image</option>
                                            </select>
                                        </div>

                                        <div v-if="content?.siteSettings?.navbar?.dropdown?.backgroundType === 'color'"
                                            class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Dropdown Background Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.dropdown?.backgroundColor || '#ffffff' }"
                                                        @click="$refs.dropdownBgInput.click()">
                                                        <input type="color" ref="dropdownBgInput"
                                                            v-model="content.siteSettings.navbar.dropdown.backgroundColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.dropdown.backgroundColor"
                                                        placeholder="#ffffff">
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">Dropdown Text Color</label>
                                                <div class="color-input-group">
                                                    <div class="color-preview"
                                                        :style="{ backgroundColor: content?.siteSettings?.navbar?.dropdown?.textColor || '#333333' }"
                                                        @click="$refs.dropdownTextInput.click()">
                                                        <input type="color" ref="dropdownTextInput"
                                                            v-model="content.siteSettings.navbar.dropdown.textColor">
                                                    </div>
                                                    <input type="text" class="form-control"
                                                        v-model="content.siteSettings.navbar.dropdown.textColor"
                                                        placeholder="#333333">
                                                </div>
                                            </div>
                                        </div>

                                        <div v-if="content?.siteSettings?.navbar?.dropdown?.backgroundType === 'image'"
                                            class="form-group">
                                            <label class="form-label">Dropdown Background Image</label>
                                            <div class="image-selector">
                                                <img v-if="content?.siteSettings?.navbar?.dropdown?.backgroundImage"
                                                    :src="content.siteSettings.navbar.dropdown.backgroundImage"
                                                    class="image-preview" @click="selectDropdownBackground">
                                                <div v-else class="image-preview empty"
                                                    @click="selectDropdownBackground">
                                                    <i class="fas fa-image"></i>
                                                </div>
                                                <div>
                                                    <button class="btn btn-secondary btn-sm"
                                                        @click="selectDropdownBackground">
                                                        <i class="fas fa-folder-open"></i>
                                                        Select Dropdown Background
                                                    </button>
                                                    <p class="form-help">For multicolumn dropdowns</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Media Library Tab -->
                    <div v-if="activeTab === 'media'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Media Library</h1>
                            <p class="content-subtitle">Upload and manage your images and files</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Upload New Media</h3>
                            </div>
                            <div class="card-body">
                                <div class="file-upload" @click="triggerFileUpload" @dragover.prevent
                                    @drop.prevent="handleFileDrop">
                                    <input type="file" ref="fileInput" @change="handleFileUpload" accept="image/*"
                                        multiple style="display: none;">
                                    <div class="file-upload-icon">
                                        <i class="fas fa-cloud-upload-alt"></i>
                                    </div>
                                    <div class="file-upload-text">Click to upload or drag and drop</div>
                                    <div class="file-upload-hint">PNG, JPG, GIF up to 10MB</div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Media Gallery</h3>
                                <div class="header-actions">
                                    <input type="text" class="form-control" placeholder="Search media..."
                                        v-model="mediaSearch" style="width: 200px;">
                                </div>
                            </div>
                            <div class="card-body">
                                <div v-if="filteredMedia.length === 0" class="empty-state">
                                    <div class="empty-state-icon">
                                        <i class="fas fa-images"></i>
                                    </div>
                                    <div class="empty-state-title">No Media Files</div>
                                    <div class="empty-state-text">Upload your first image to get started</div>
                                </div>
                                <div v-else class="media-gallery">
                                    <div v-for="media in filteredMedia" :key="media.id" class="media-item"
                                        :class="{ selected: selectedMedia === media }" @click="selectMedia(media)">
                                        <img :src="media.url" :alt="media.name">
                                        <div class="media-item-overlay">
                                            <div class="media-item-actions">
                                                <button class="btn btn-secondary btn-sm" @click.stop="editMedia(media)">
                                                    <i class="fas fa-edit"></i>
                                                </button>
                                                <button class="btn btn-danger btn-sm" @click.stop="deleteMedia(media)">
                                                    <i class="fas fa-trash"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Navigation Tab -->
                    <div v-if="activeTab === 'navigation'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Navigation Management</h1>
                            <p class="content-subtitle">Configure your website navigation menus</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Main Menu</h3>
                            </div>
                            <div class="card-body">
                                <p>Navigation tab is working! Content will appear here.</p>
                                <div v-for="(item, index) in content?.navigation?.mainMenu || []" :key="index"
                                    class="card" style="margin-bottom: 15px;">
                                    <div class="card-body">
                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">Menu Title</label>
                                                <input type="text" class="form-control" v-model="item.title"
                                                    placeholder="Menu item title">
                                            </div>
                                            <div class="form-group">
                                                <label class="form-label">URL</label>
                                                <input type="text" class="form-control" v-model="item.url"
                                                    placeholder="Link URL">
                                            </div>
                                        </div>

                                        <div class="form-grid cols-2">
                                            <div class="form-group">
                                                <label class="form-label">
                                                    <input type="checkbox" v-model="item.hasDropdown"
                                                        @change="initializeDropdown(item)" style="margin-right: 8px;">
                                                    Has Sub-menu
                                                </label>
                                            </div>
                                            <div class="form-group" v-if="item.hasDropdown">
                                                <label class="form-label">Dropdown Layout</label>
                                                <select class="form-control" v-model="item.dropdownLayout">
                                                    <option value="single">Single Column</option>
                                                    <option value="double">Two Columns</option>
                                                    <option value="triple">Three Columns</option>
                                                    <option value="mega">Mega Menu (Full Width)</option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- Enhanced Submenu Management -->
                                        <div v-if="item.hasDropdown" class="form-group" style="margin-top: 20px;">
                                            <div class="submenu-header">
                                                <h4 class="form-label"><i class="fas fa-sitemap"></i> Sub-menu
                                                    Management</h4>
                                                <div class="submenu-layout-preview" v-if="item.dropdownLayout">
                                                    <small class="text-muted">Layout: {{
                                                        item.dropdownLayout.charAt(0).toUpperCase() +
                                                        item.dropdownLayout.slice(1) }}</small>
                                                </div>
                                            </div>

                                            <!-- Multicolumn Dropdown Management -->
                                            <div
                                                v-if="item.dropdownLayout === 'double' || item.dropdownLayout === 'triple' || item.dropdownLayout === 'mega'">
                                                <div class="dropdown-columns">
                                                    <div v-for="(column, colIndex) in item.columns || []"
                                                        :key="colIndex" class="dropdown-column">
                                                        <h5 class="column-title">
                                                            <i class="fas fa-columns"></i>
                                                            Column {{ colIndex + 1 }}
                                                            <button class="btn btn-danger btn-xs"
                                                                @click="removeColumn(index, colIndex)"
                                                                v-if="item.columns.length > 1">
                                                                <i class="fas fa-times"></i>
                                                            </button>
                                                        </h5>

                                                        <div class="form-group">
                                                            <label class="form-label">Column Title (Optional)</label>
                                                            <input type="text" class="form-control"
                                                                v-model="column.title" placeholder="Column heading">
                                                        </div>

                                                        <div class="form-group">
                                                            <label class="form-label">Column Background Image</label>
                                                            <div class="image-selector small">
                                                                <img v-if="column.backgroundImage"
                                                                    :src="column.backgroundImage"
                                                                    class="image-preview small"
                                                                    @click="selectColumnBackground(index, colIndex)">
                                                                <div v-else class="image-preview small empty"
                                                                    @click="selectColumnBackground(index, colIndex)">
                                                                    <i class="fas fa-image"></i>
                                                                </div>
                                                                <button class="btn btn-secondary btn-xs"
                                                                    @click="selectColumnBackground(index, colIndex)">
                                                                    Select Image
                                                                </button>
                                                            </div>
                                                        </div>

                                                        <div class="submenu-items">
                                                            <div v-for="(subitem, subIndex) in column.items || []"
                                                                :key="subIndex" class="submenu-item">
                                                                <div class="form-grid cols-2">
                                                                    <input type="text" class="form-control"
                                                                        v-model="subitem.title"
                                                                        placeholder="Sub-menu title">
                                                                    <input type="text" class="form-control"
                                                                        v-model="subitem.url"
                                                                        placeholder="Sub-menu URL">
                                                                </div>
                                                                <div class="submenu-actions">
                                                                    <button class="btn btn-danger btn-xs"
                                                                        @click="removeSubMenuItem(index, colIndex, subIndex)">
                                                                        <i class="fas fa-trash"></i>
                                                                    </button>
                                                                </div>
                                                            </div>
                                                            <button class="btn btn-secondary btn-sm"
                                                                @click="addSubMenuItem(index, colIndex)">
                                                                <i class="fas fa-plus"></i>
                                                                Add Sub-item
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="column-actions" style="margin-top: 15px;">
                                                    <button class="btn btn-info btn-sm" @click="addColumn(index)"
                                                        v-if="getMaxColumns(item.dropdownLayout) > item.columns.length">
                                                        <i class="fas fa-plus"></i>
                                                        Add Column
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Single Column Dropdown -->
                                            <div v-else-if="item.dropdownLayout === 'single'">
                                                <div v-for="(child, childIndex) in item.children || []"
                                                    :key="childIndex" class="submenu-item">
                                                    <div class="form-grid cols-3">
                                                        <input type="text" class="form-control" v-model="child.title"
                                                            placeholder="Sub-menu title">
                                                        <input type="text" class="form-control" v-model="child.url"
                                                            placeholder="Sub-menu URL">
                                                        <button class="btn btn-danger btn-sm"
                                                            @click="removeSimpleSubMenuItem(index, childIndex)">
                                                            <i class="fas fa-trash"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <button class="btn btn-secondary btn-sm"
                                                    @click="addSimpleSubMenuItem(index)">
                                                    <i class="fas fa-plus"></i>
                                                    Add Sub-item
                                                </button>
                                            </div>
                                        </div>

                                        <div class="form-group" style="margin-top: 20px;">
                                            <button class="btn btn-danger btn-sm" @click="removeMenuItem(index)">
                                                <i class="fas fa-trash"></i>
                                                Remove Menu Item
                                            </button>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-primary" @click="addMenuItem">
                                    <i class="fas fa-plus"></i>
                                    Add Menu Item
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Theme Settings Tab -->
                    <div v-if="activeTab === 'themes'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Advanced Theme Settings</h1>
                            <p class="content-subtitle">Customize colors, backgrounds, and styling for each section</p>
                        </div>

                        <!-- Global Colors & Branding -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-palette"></i> Global Colors & Branding</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-grid cols-3">
                                    <div class="form-group">
                                        <label class="form-label">Primary Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.primaryColor || '#FFD200' }"
                                                @click="$refs.primaryColorInput.click()">
                                                <input type="color" ref="primaryColorInput"
                                                    v-model="content.siteSettings.primaryColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.primaryColor" placeholder="#FFD200">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Secondary Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.secondaryColor || '#484939' }"
                                                @click="$refs.secondaryColorInput.click()">
                                                <input type="color" ref="secondaryColorInput"
                                                    v-model="content.siteSettings.secondaryColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.secondaryColor" placeholder="#484939">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Tertiary Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.tertiaryColor || '#1E3A8A' }"
                                                @click="$refs.tertiaryColorInput.click()">
                                                <input type="color" ref="tertiaryColorInput"
                                                    v-model="content.siteSettings.tertiaryColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.tertiaryColor" placeholder="#1E3A8A">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Accent Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.accentColor || '#FF6B35' }"
                                                @click="$refs.accentColorInput.click()">
                                                <input type="color" ref="accentColorInput"
                                                    v-model="content.siteSettings.accentColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.accentColor" placeholder="#FF6B35">
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- Navigation Bar Styling -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-bars"></i> Navigation Bar</h3>
                                <p class="card-subtitle">Customize navigation appearance and behavior</p>
                            </div>
                            <div class="card-body">
                                <!-- Navbar Background Settings -->
                                <div class="form-group">
                                    <label class="form-label">Navbar Background Type</label>
                                    <select class="form-control" v-model="content.siteSettings.navbar.backgroundType">
                                        <option value="color">Solid Color</option>
                                        <option value="gradient">Gradient</option>
                                        <option value="image">Background Image</option>
                                    </select>
                                </div>

                                <div v-if="content?.siteSettings?.navbar?.backgroundType === 'color'"
                                    class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Navbar Background Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.backgroundColor || '#ffffff' }"
                                                @click="$refs.navbarBgInput.click()">
                                                <input type="color" ref="navbarBgInput"
                                                    v-model="content.siteSettings.navbar.backgroundColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.backgroundColor"
                                                placeholder="#ffffff">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Navbar Text Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.textColor || '#333333' }"
                                                @click="$refs.navbarTextInput.click()">
                                                <input type="color" ref="navbarTextInput"
                                                    v-model="content.siteSettings.navbar.textColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.textColor" placeholder="#333333">
                                        </div>
                                    </div>
                                </div>

                                <div v-if="content?.siteSettings?.navbar?.backgroundType === 'gradient'"
                                    class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Gradient Start Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.gradientStart || '#FFD200' }"
                                                @click="$refs.navbarGradientStartInput.click()">
                                                <input type="color" ref="navbarGradientStartInput"
                                                    v-model="content.siteSettings.navbar.gradientStart">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.gradientStart"
                                                placeholder="#FFD200">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Gradient End Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.gradientEnd || '#FF6B35' }"
                                                @click="$refs.navbarGradientEndInput.click()">
                                                <input type="color" ref="navbarGradientEndInput"
                                                    v-model="content.siteSettings.navbar.gradientEnd">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.gradientEnd" placeholder="#FF6B35">
                                        </div>
                                    </div>
                                </div>

                                <div v-if="content?.siteSettings?.navbar?.backgroundType === 'image'"
                                    class="form-group">
                                    <label class="form-label">Navbar Background Image</label>
                                    <div class="image-selector">
                                        <img v-if="content?.siteSettings?.navbar?.backgroundImage"
                                            :src="content.siteSettings.navbar.backgroundImage" class="image-preview"
                                            @click="selectNavbarBackground">
                                        <div v-else class="image-preview empty" @click="selectNavbarBackground">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        <div>
                                            <button class="btn btn-secondary btn-sm" @click="selectNavbarBackground">
                                                <i class="fas fa-folder-open"></i>
                                                Select Background Image
                                            </button>
                                            <p class="form-help">Recommended: 1920x120px, PNG/JPG</p>
                                        </div>
                                    </div>
                                    <div class="form-grid cols-3" style="margin-top: 15px;">
                                        <div class="form-group">
                                            <label class="form-label">Image Position</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.navbar.backgroundPosition">
                                                <option value="center center">Center</option>
                                                <option value="left center">Left</option>
                                                <option value="right center">Right</option>
                                                <option value="center top">Top</option>
                                                <option value="center bottom">Bottom</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Image Repeat</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.navbar.backgroundRepeat">
                                                <option value="no-repeat">No Repeat</option>
                                                <option value="repeat">Repeat</option>
                                                <option value="repeat-x">Repeat X</option>
                                                <option value="repeat-y">Repeat Y</option>
                                            </select>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Image Size</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.navbar.backgroundSize">
                                                <option value="cover">Cover</option>
                                                <option value="contain">Contain</option>
                                                <option value="auto">Auto</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Dropdown Menu Styling -->
                                <div class="form-group" style="margin-top: 30px;">
                                    <h4 class="form-label"><i class="fas fa-chevron-down"></i> Dropdown Menu Settings
                                    </h4>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Dropdown Background Type</label>
                                    <select class="form-control"
                                        v-model="content.siteSettings.navbar.dropdown.backgroundType">
                                        <option value="color">Solid Color</option>
                                        <option value="gradient">Gradient</option>
                                        <option value="image">Background Image</option>
                                    </select>
                                </div>

                                <div v-if="content?.siteSettings?.navbar?.dropdown?.backgroundType === 'color'"
                                    class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Dropdown Background Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.dropdown?.backgroundColor || '#ffffff' }"
                                                @click="$refs.dropdownBgInput.click()">
                                                <input type="color" ref="dropdownBgInput"
                                                    v-model="content.siteSettings.navbar.dropdown.backgroundColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.dropdown.backgroundColor"
                                                placeholder="#ffffff">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Dropdown Text Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.navbar?.dropdown?.textColor || '#333333' }"
                                                @click="$refs.dropdownTextInput.click()">
                                                <input type="color" ref="dropdownTextInput"
                                                    v-model="content.siteSettings.navbar.dropdown.textColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.navbar.dropdown.textColor"
                                                placeholder="#333333">
                                        </div>
                                    </div>
                                </div>

                                <div v-if="content?.siteSettings?.navbar?.dropdown?.backgroundType === 'image'"
                                    class="form-group">
                                    <label class="form-label">Dropdown Background Image</label>
                                    <div class="image-selector">
                                        <img v-if="content?.siteSettings?.navbar?.dropdown?.backgroundImage"
                                            :src="content.siteSettings.navbar.dropdown.backgroundImage"
                                            class="image-preview" @click="selectDropdownBackground">
                                        <div v-else class="image-preview empty" @click="selectDropdownBackground">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        <div>
                                            <button class="btn btn-secondary btn-sm" @click="selectDropdownBackground">
                                                <i class="fas fa-folder-open"></i>
                                                Select Dropdown Background
                                            </button>
                                            <p class="form-help">For multicolumn dropdowns</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-grid cols-3">
                                    <div class="form-group">
                                        <label class="form-label">Navbar Position</label>
                                        <select class="form-control" v-model="content.siteSettings.navbar.position">
                                            <option value="fixed">Fixed Top</option>
                                            <option value="sticky">Sticky</option>
                                            <option value="static">Static</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Transparency (%)</label>
                                        <input type="range" class="form-control"
                                            v-model="content.siteSettings.navbar.opacity" min="0" max="100" step="5">
                                        <div class="form-help">{{ content?.siteSettings?.navbar?.opacity || 100 }}%
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Shadow</label>
                                        <select class="form-control" v-model="content.siteSettings.navbar.shadow">
                                            <option value="none">None</option>
                                            <option value="small">Small</option>
                                            <option value="medium">Medium</option>
                                            <option value="large">Large</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Section-Specific Styling -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-layer-group"></i> Section-Specific Styling</h3>
                                <p class="card-subtitle">Customize each section individually</p>
                            </div>
                            <div class="card-body">
                                <!-- Hero Section -->
                                <div class="section-styling-group">
                                    <h4 class="section-title"><i class="fas fa-star"></i> Hero Section</h4>
                                    <div class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Background Type</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.sections.hero.backgroundType">
                                                <option value="color">Solid Color</option>
                                                <option value="gradient">Gradient</option>
                                                <option value="image">Background Image</option>
                                                <option value="video">Video Background</option>
                                            </select>
                                        </div>
                                        <div class="form-group"
                                            v-if="content?.siteSettings?.sections?.hero?.backgroundType === 'color'">
                                            <label class="form-label">Background Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.hero?.backgroundColor || '#f8f9fa' }"
                                                    @click="$refs.heroBgInput.click()">
                                                    <input type="color" ref="heroBgInput"
                                                        v-model="content.siteSettings.sections.hero.backgroundColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.hero.backgroundColor"
                                                    placeholder="#f8f9fa">
                                            </div>
                                        </div>
                                    </div>

                                    <div v-if="content?.siteSettings?.sections?.hero?.backgroundType === 'gradient'"
                                        class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Gradient Start</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.hero?.gradientStart || '#FFD200' }"
                                                    @click="$refs.heroGradientStartInput.click()">
                                                    <input type="color" ref="heroGradientStartInput"
                                                        v-model="content.siteSettings.sections.hero.gradientStart">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.hero.gradientStart"
                                                    placeholder="#FFD200">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Gradient End</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.hero?.gradientEnd || '#FF6B35' }"
                                                    @click="$refs.heroGradientEndInput.click()">
                                                    <input type="color" ref="heroGradientEndInput"
                                                        v-model="content.siteSettings.sections.hero.gradientEnd">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.hero.gradientEnd"
                                                    placeholder="#FF6B35">
                                            </div>
                                        </div>
                                    </div>

                                    <div v-if="content?.siteSettings?.sections?.hero?.backgroundType === 'image'"
                                        class="form-group">
                                        <label class="form-label">Background Image</label>
                                        <div class="image-selector">
                                            <img v-if="content?.siteSettings?.sections?.hero?.backgroundImage"
                                                :src="content.siteSettings.sections.hero.backgroundImage"
                                                class="image-preview" @click="selectHeroBackground">
                                            <div v-else class="image-preview empty" @click="selectHeroBackground">
                                                <i class="fas fa-image"></i>
                                            </div>
                                            <div>
                                                <button class="btn btn-secondary btn-sm" @click="selectHeroBackground">
                                                    <i class="fas fa-folder-open"></i>
                                                    Select Background
                                                </button>
                                                <p class="form-help">Recommended: 1920x1080px, JPG/PNG</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Text Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.hero?.textColor || '#ffffff' }"
                                                    @click="$refs.heroTextInput.click()">
                                                    <input type="color" ref="heroTextInput"
                                                        v-model="content.siteSettings.sections.hero.textColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.hero.textColor"
                                                    placeholder="#ffffff">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Overlay Opacity (%)</label>
                                            <input type="range" class="form-control"
                                                v-model="content.siteSettings.sections.hero.overlayOpacity" min="0"
                                                max="100" step="5">
                                            <div class="form-help">{{
                                                content?.siteSettings?.sections?.hero?.overlayOpacity || 0 }}%</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Services Section -->
                                <div class="section-styling-group">
                                    <h4 class="section-title"><i class="fas fa-cogs"></i> Services Section</h4>
                                    <div class="form-grid cols-3">
                                        <div class="form-group">
                                            <label class="form-label">Background Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.services?.backgroundColor || '#ffffff' }"
                                                    @click="$refs.servicesBgInput.click()">
                                                    <input type="color" ref="servicesBgInput"
                                                        v-model="content.siteSettings.sections.services.backgroundColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.services.backgroundColor"
                                                    placeholder="#ffffff">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Text Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.services?.textColor || '#333333' }"
                                                    @click="$refs.servicesTextInput.click()">
                                                    <input type="color" ref="servicesTextInput"
                                                        v-model="content.siteSettings.sections.services.textColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.services.textColor"
                                                    placeholder="#333333">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Card Background</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.services?.cardBackground || '#f8f9fa' }"
                                                    @click="$refs.servicesCardInput.click()">
                                                    <input type="color" ref="servicesCardInput"
                                                        v-model="content.siteSettings.sections.services.cardBackground">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.services.cardBackground"
                                                    placeholder="#f8f9fa">
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- About Section -->
                                <div class="section-styling-group">
                                    <h4 class="section-title"><i class="fas fa-info-circle"></i> About Section</h4>
                                    <div class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Background Type</label>
                                            <select class="form-control"
                                                v-model="content.siteSettings.sections.about.backgroundType">
                                                <option value="color">Solid Color</option>
                                                <option value="image">Background Image</option>
                                            </select>
                                        </div>
                                        <div class="form-group"
                                            v-if="content?.siteSettings?.sections?.about?.backgroundType === 'color'">
                                            <label class="form-label">Background Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.about?.backgroundColor || '#f8f9fa' }"
                                                    @click="$refs.aboutBgInput.click()">
                                                    <input type="color" ref="aboutBgInput"
                                                        v-model="content.siteSettings.sections.about.backgroundColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.about.backgroundColor"
                                                    placeholder="#f8f9fa">
                                            </div>
                                        </div>
                                    </div>

                                    <div v-if="content?.siteSettings?.sections?.about?.backgroundType === 'image'"
                                        class="form-group">
                                        <label class="form-label">Background Image</label>
                                        <div class="image-selector">
                                            <img v-if="content?.siteSettings?.sections?.about?.backgroundImage"
                                                :src="content.siteSettings.sections.about.backgroundImage"
                                                class="image-preview" @click="selectAboutBackground">
                                            <div v-else class="image-preview empty" @click="selectAboutBackground">
                                                <i class="fas fa-image"></i>
                                            </div>
                                            <div>
                                                <button class="btn btn-secondary btn-sm" @click="selectAboutBackground">
                                                    <i class="fas fa-folder-open"></i>
                                                    Select Background
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">Text Color</label>
                                        <div class="color-input-group">
                                            <div class="color-preview"
                                                :style="{ backgroundColor: content?.siteSettings?.sections?.about?.textColor || '#333333' }"
                                                @click="$refs.aboutTextInput.click()">
                                                <input type="color" ref="aboutTextInput"
                                                    v-model="content.siteSettings.sections.about.textColor">
                                            </div>
                                            <input type="text" class="form-control"
                                                v-model="content.siteSettings.sections.about.textColor"
                                                placeholder="#333333">
                                        </div>
                                    </div>
                                </div>

                                <!-- Footer Section -->
                                <div class="section-styling-group">
                                    <h4 class="section-title"><i class="fas fa-grip-lines"></i> Footer Section</h4>
                                    <div class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Background Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.footer?.backgroundColor || '#2c3e50' }"
                                                    @click="$refs.footerBgInput.click()">
                                                    <input type="color" ref="footerBgInput"
                                                        v-model="content.siteSettings.sections.footer.backgroundColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.footer.backgroundColor"
                                                    placeholder="#2c3e50">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Text Color</label>
                                            <div class="color-input-group">
                                                <div class="color-preview"
                                                    :style="{ backgroundColor: content?.siteSettings?.sections?.footer?.textColor || '#ecf0f1' }"
                                                    @click="$refs.footerTextInput.click()">
                                                    <input type="color" ref="footerTextInput"
                                                        v-model="content.siteSettings.sections.footer.textColor">
                                                </div>
                                                <input type="text" class="form-control"
                                                    v-model="content.siteSettings.sections.footer.textColor"
                                                    placeholder="#ecf0f1">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div class="d-flex justify-content-between align-items-center">
                                    <button class="btn btn-secondary" @click="resetSectionStyling">
                                        <i class="fas fa-undo"></i>
                                        Reset to Defaults
                                    </button>
                                    <button class="btn btn-primary" @click="saveAllContent" :disabled="saving">
                                        <i class="fas fa-save"></i>
                                        {{ saving ? 'Saving...' : 'Save Theme Settings' }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- General Settings Tab -->
                    <div v-if="activeTab === 'settings'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">General Settings</h1>
                            <p class="content-subtitle">Configure basic site settings</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Site Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label required">Site Title</label>
                                        <input type="text" class="form-control" v-model="content.siteTitle"
                                            placeholder="Your Site Title">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Site Tagline</label>
                                        <input type="text" class="form-control" v-model="content.siteTagline"
                                            placeholder="Your site description">
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Footer Text</label>
                                    <textarea class="form-control" v-model="content.siteSettings.footerText"
                                        placeholder="Copyright notice and footer information"></textarea>
                                </div>
                            </div>
                        </div>

                        <!-- Comprehensive Logo Management -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-image"></i> Logo Management</h3>
                                <p class="card-subtitle">Configure your site logos and branding</p>
                            </div>
                            <div class="card-body">
                                <!-- Regular Logo -->
                                <div class="form-group">
                                    <label class="form-label">Main Logo</label>
                                    <div class="image-selector">
                                        <img v-if="content?.siteSettings?.logo?.main"
                                            :src="content.siteSettings.logo.main" class="image-preview"
                                            @click="selectMainLogo">
                                        <div v-else class="image-preview empty" @click="selectMainLogo">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        <div>
                                            <button class="btn btn-secondary btn-sm" @click="selectMainLogo">
                                                <i class="fas fa-folder-open"></i>
                                                Select Main Logo
                                            </button>
                                            <p class="form-help">Primary logo for light backgrounds</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Transparent/Dark Logo -->
                                <div class="form-group">
                                    <label class="form-label">Transparent/Dark Logo (Optional)</label>
                                    <div class="image-selector">
                                        <img v-if="content?.siteSettings?.logo?.transparent"
                                            :src="content.siteSettings.logo.transparent" class="image-preview"
                                            @click="selectTransparentLogo">
                                        <div v-else class="image-preview empty" @click="selectTransparentLogo">
                                            <i class="fas fa-image"></i>
                                        </div>
                                        <div>
                                            <button class="btn btn-secondary btn-sm" @click="selectTransparentLogo">
                                                <i class="fas fa-folder-open"></i>
                                                Select Transparent Logo
                                            </button>
                                            <p class="form-help">Logo for dark/transparent backgrounds</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Logo Settings -->
                                <div class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Logo Width (px)</label>
                                        <input type="number" class="form-control"
                                            v-model="content.siteSettings.logo.width" placeholder="200" min="50"
                                            max="500" step="10">
                                        <div class="form-help">Leave empty for auto width</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Logo Height (px)</label>
                                        <input type="number" class="form-control"
                                            v-model="content.siteSettings.logo.height" placeholder="60" min="20"
                                            max="200" step="5">
                                        <div class="form-help">Leave empty for auto height</div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Alternative Text</label>
                                    <input type="text" class="form-control" v-model="content.siteSettings.logo.altText"
                                        placeholder="Your Company Name">
                                    <div class="form-help">Important for accessibility and SEO</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Logo Link URL (Optional)</label>
                                    <input type="url" class="form-control" v-model="content.siteSettings.logo.linkUrl"
                                        placeholder="https://yourwebsite.com">
                                    <div class="form-help">Where users go when clicking the logo (usually homepage)
                                    </div>
                                </div>

                                <div class="form-grid cols-2">
                                    <div class="form-group">
                                        <label class="form-label">Link Target</label>
                                        <select class="form-control" v-model="content.siteSettings.logo.linkTarget">
                                            <option value="_self">Same Window</option>
                                            <option value="_blank">New Window</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">
                                            <input type="checkbox" v-model="content.siteSettings.logo.showAltText"
                                                style="margin-right: 8px;">
                                            Show text fallback if logo fails to load
                                        </label>
                                    </div>
                                </div>

                                <!-- Logo Preview -->
                                <div class="form-group" v-if="content?.siteSettings?.logo?.main">
                                    <label class="form-label">Preview</label>
                                    <div class="logo-preview-container">
                                        <div class="logo-preview light-bg">
                                            <span class="preview-label">Light Background:</span>
                                            <img :src="content.siteSettings.logo.main"
                                                :alt="content.siteSettings.logo.altText || 'Logo'"
                                                :style="getLogoStyle()">
                                        </div>
                                        <div class="logo-preview dark-bg" v-if="content.siteSettings.logo.transparent">
                                            <span class="preview-label">Dark Background:</span>
                                            <img :src="content.siteSettings.logo.transparent"
                                                :alt="content.siteSettings.logo.altText || 'Logo'"
                                                :style="getLogoStyle()">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Favicon Management -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-star"></i> Favicon Management</h3>
                                <p class="card-subtitle">Configure your website's favicon (browser tab icon)</p>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label class="form-label">Favicon</label>
                                    <div class="image-selector">
                                        <img v-if="content?.siteSettings?.favicon" :src="content.siteSettings.favicon"
                                            class="image-preview favicon-preview" @click="selectFavicon">
                                        <div v-else class="image-preview empty favicon-preview" @click="selectFavicon">
                                            <i class="fas fa-star"></i>
                                        </div>
                                        <div>
                                            <button class="btn btn-secondary btn-sm" @click="selectFavicon">
                                                <i class="fas fa-folder-open"></i>
                                                Select Favicon
                                            </button>
                                            <p class="form-help">Upload a .ico, .png, or .gif file. Recommended size:
                                                32x32 or 16x16 pixels</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Favicon Preview -->
                                <div class="form-group" v-if="content?.siteSettings?.favicon">
                                    <label class="form-label">Preview</label>
                                    <div class="favicon-preview-container">
                                        <div class="favicon-browser-preview">
                                            <div class="browser-tab">
                                                <img :src="content.siteSettings.favicon" class="favicon-preview-icon">
                                                <span class="tab-title">{{ content.siteTitle || 'Your Site Title'
                                                    }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Advanced Footer Management -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-grip-lines"></i> Footer Content Management</h3>
                                <p class="card-subtitle">Design and manage your website footer sections</p>
                            </div>
                            <div class="card-body">
                                <!-- Footer Layout Settings -->
                                <div class="form-group">
                                    <label class="form-label">Footer Layout</label>
                                    <select class="form-control" v-model="content.footer.layout">
                                        <option value="single">Single Column</option>
                                        <option value="double">Two Columns</option>
                                        <option value="triple">Three Columns</option>
                                        <option value="quad">Four Columns</option>
                                    </select>
                                </div>

                                <!-- Footer Columns Management -->
                                <div class="footer-columns" v-if="content?.footer?.layout">
                                    <h4 class="form-label"><i class="fas fa-columns"></i> Footer Columns</h4>

                                    <div v-for="(column, colIndex) in content?.footer?.columns || []" :key="colIndex"
                                        class="footer-column card" style="margin-bottom: 15px;">
                                        <div class="card-header">
                                            <h5 class="card-title">Column {{ colIndex + 1 }}</h5>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-grid cols-2">
                                                <div class="form-group">
                                                    <label class="form-label">Column Title</label>
                                                    <input type="text" class="form-control" v-model="column.title"
                                                        placeholder="Column heading">
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Column Type</label>
                                                    <select class="form-control" v-model="column.type">
                                                        <option value="logo">Company Logo</option>
                                                        <option value="links">Link List</option>
                                                        <option value="contact">Contact Info</option>
                                                        <option value="social">Social Media</option>
                                                        <option value="newsletter">Newsletter Signup</option>
                                                        <option value="custom">Custom Content</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <!-- Logo Type -->
                                            <div v-if="column.type === 'logo'">
                                                <div class="form-group">
                                                    <label class="form-label">Company Logo</label>
                                                    <div class="image-selector">
                                                        <img v-if="column.logo" :src="column.logo" class="image-preview"
                                                            @click="selectColumnLogo(colIndex)">
                                                        <div v-else class="image-preview empty"
                                                            @click="selectColumnLogo(colIndex)">
                                                            <i class="fas fa-image"></i>
                                                        </div>
                                                        <div>
                                                            <button class="btn btn-secondary btn-sm"
                                                                @click="selectColumnLogo(colIndex)">
                                                                <i class="fas fa-folder-open"></i>
                                                                Select Logo
                                                            </button>
                                                            <p class="form-help">Company logo for footer</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Company Description</label>
                                                    <textarea class="form-control" rows="3" v-model="column.description"
                                                        placeholder="Brief description about your company..."></textarea>
                                                </div>
                                            </div>

                                            <!-- Links Type -->
                                            <div v-if="column.type === 'links'">
                                                <div v-for="(link, linkIndex) in column.links || []" :key="linkIndex"
                                                    class="form-grid cols-3" style="margin-bottom: 10px;">
                                                    <input type="text" class="form-control" v-model="link.title"
                                                        placeholder="Link title">
                                                    <input type="text" class="form-control" v-model="link.url"
                                                        placeholder="Link URL">
                                                    <button class="btn btn-danger btn-sm"
                                                        @click="removeFooterLink(colIndex, linkIndex)">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                                <button class="btn btn-secondary btn-sm"
                                                    @click="addFooterLink(colIndex)">
                                                    <i class="fas fa-plus"></i>
                                                    Add Link
                                                </button>
                                            </div>

                                            <!-- Contact Type -->
                                            <div v-if="column.type === 'contact'">
                                                <div class="form-grid cols-2">
                                                    <div class="form-group">
                                                        <label class="form-label">Phone</label>
                                                        <input type="text" class="form-control"
                                                            v-model="column.contact.phone"
                                                            placeholder="+1 234 567 8900">
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="form-label">Email</label>
                                                        <input type="email" class="form-control"
                                                            v-model="column.contact.email"
                                                            placeholder="info@yoursite.com">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="form-label">Address</label>
                                                    <textarea class="form-control" v-model="column.contact.address"
                                                        placeholder="Your business address"></textarea>
                                                </div>
                                            </div>

                                            <!-- Social Media Type -->
                                            <div v-if="column.type === 'social'">
                                                <div v-for="(social, socialIndex) in column.socialLinks || []"
                                                    :key="socialIndex" class="form-grid cols-4"
                                                    style="margin-bottom: 10px;">
                                                    <select class="form-control" v-model="social.platform">
                                                        <option value="facebook">Facebook</option>
                                                        <option value="twitter">Twitter</option>
                                                        <option value="instagram">Instagram</option>
                                                        <option value="linkedin">LinkedIn</option>
                                                        <option value="youtube">YouTube</option>
                                                        <option value="tiktok">TikTok</option>
                                                    </select>
                                                    <input type="text" class="form-control" v-model="social.url"
                                                        placeholder="Social media URL">
                                                    <input type="text" class="form-control" v-model="social.label"
                                                        placeholder="Display text">
                                                    <button class="btn btn-danger btn-sm"
                                                        @click="removeSocialLink(colIndex, socialIndex)">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </div>
                                                <button class="btn btn-secondary btn-sm"
                                                    @click="addSocialLink(colIndex)">
                                                    <i class="fas fa-plus"></i>
                                                    Add Social Link
                                                </button>
                                            </div>

                                            <!-- Newsletter Type -->
                                            <div v-if="column.type === 'newsletter'">
                                                <div class="form-group">
                                                    <label class="form-label">Newsletter Description</label>
                                                    <textarea class="form-control"
                                                        v-model="column.newsletter.description"
                                                        placeholder="Subscribe to our newsletter..."></textarea>
                                                </div>
                                                <div class="form-grid cols-2">
                                                    <div class="form-group">
                                                        <label class="form-label">Button Text</label>
                                                        <input type="text" class="form-control"
                                                            v-model="column.newsletter.buttonText"
                                                            placeholder="Subscribe">
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="form-label">Action URL</label>
                                                        <input type="text" class="form-control"
                                                            v-model="column.newsletter.actionUrl"
                                                            placeholder="Form action URL">
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Custom Content Type -->
                                            <div v-if="column.type === 'custom'">
                                                <div class="form-group">
                                                    <label class="form-label">Custom HTML Content</label>
                                                    <textarea class="form-control" rows="6"
                                                        v-model="column.customContent"
                                                        placeholder="Enter your custom HTML content..."></textarea>
                                                </div>
                                            </div>

                                            <div class="form-group" style="margin-top: 15px;"
                                                v-if="content?.footer?.columns?.length > 1">
                                                <button class="btn btn-danger btn-sm"
                                                    @click="removeFooterColumn(colIndex)">
                                                    <i class="fas fa-trash"></i>
                                                    Remove Column
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="footer-actions" style="margin-top: 15px;">
                                        <button class="btn btn-info btn-sm" @click="addFooterColumn()"
                                            v-if="getMaxFooterColumns() > (content?.footer?.columns?.length || 0)">
                                            <i class="fas fa-plus"></i>
                                            Add Column
                                        </button>
                                    </div>
                                </div>

                                <!-- Footer Bottom Bar -->
                                <div class="form-group" style="margin-top: 30px;">
                                    <h4 class="form-label"><i class="fas fa-copyright"></i> Footer Bottom Bar</h4>
                                    <div class="form-grid cols-2">
                                        <div class="form-group">
                                            <label class="form-label">Copyright Text</label>
                                            <input type="text" class="form-control" v-model="content.footer.copyright"
                                                placeholder="(C) 2024 Your Company Name. All rights reserved.">
                                        </div>
                                        <div class="form-group">
                                            <label class="form-label">Additional Text</label>
                                            <input type="text" class="form-control"
                                                v-model="content.footer.additionalText"
                                                placeholder="Privacy Policy | Terms of Service">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SEO Settings Tab -->
                    <div v-if="activeTab === 'seo'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">SEO Settings</h1>
                            <p class="content-subtitle">Optimize your website for search engines</p>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Meta Information</h3>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label class="form-label">Meta Description</label>
                                    <textarea class="form-control" v-model="seoSettings.metaDescription"
                                        placeholder="Brief description of your website (150-160 characters)"
                                        maxlength="160"></textarea>
                                    <div class="form-help">{{ (seoSettings.metaDescription || '').length }}/160
                                        characters</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Meta Keywords</label>
                                    <input type="text" class="form-control" v-model="seoSettings.metaKeywords"
                                        placeholder="keyword1, keyword2, keyword3">
                                    <div class="form-help">Separate keywords with commas</div>
                                </div>

                                <div class="form-group">
                                    <label class="form-label">Google Analytics ID</label>
                                    <input type="text" class="form-control" v-model="seoSettings.googleAnalytics"
                                        placeholder="GA-XXXXXXXXX">
                                </div>
                            </div>
                            <div class="card-footer">
                                <button class="btn btn-primary" @click="saveSEOSettings" :disabled="saving">
                                    <i class="fas fa-save"></i>
                                    {{ saving ? 'Saving...' : 'Save SEO Settings' }}
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Widgets Tab -->
                    <div v-if="activeTab === 'widgets'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Widgets Management</h1>
                            <p class="content-subtitle">Manage reusable content widgets and components</p>
                        </div>

                        <!-- Widget Areas -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-th-large"></i> Widget Areas</h3>
                                <p class="card-subtitle">Configure widget areas for different sections of your site</p>
                            </div>
                            <div class="card-body">
                                <div class="form-actions" style="margin-bottom: 20px;">
                                    <button type="button" @click="addWidgetArea" class="btn btn-primary">
                                        <i class="fas fa-plus"></i> Add Widget Area
                                    </button>
                                </div>

                                <div v-for="(area, index) in content.widgetAreas || []" :key="index" class="card"
                                    style="margin-bottom: 20px; border: 1px solid var(--border);">
                                    <div class="card-header"
                                        style="display: flex; justify-content: space-between; align-items: center;">
                                        <h4 class="card-title" style="margin: 0;">
                                            <i class="fas fa-widget"></i>
                                            {{ area.name || 'Widget Area ' + (index + 1) }}
                                        </h4>
                                        <button type="button" @click="removeWidgetArea(index)"
                                            class="btn btn-danger btn-sm">
                                            <i class="fas fa-trash"></i> Remove
                                        </button>
                                    </div>
                                    <div class="card-body">
                                        <div class="form-row">
                                            <div class="form-group">
                                                <label>Area Name</label>
                                                <input type="text" v-model="area.name"
                                                    placeholder="e.g., Sidebar, Footer" class="form-control">
                                            </div>
                                            <div class="form-group">
                                                <label>Area ID</label>
                                                <input type="text" v-model="area.id" placeholder="e.g., sidebar-1"
                                                    class="form-control">
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label>Description</label>
                                            <textarea v-model="area.description"
                                                placeholder="Describe this widget area..." class="form-control"
                                                rows="2"></textarea>
                                        </div>

                                        <div class="form-row">
                                            <div class="form-group">
                                                <label class="checkbox-label">
                                                    <input type="checkbox" v-model="area.enabled">
                                                    <span>Enable Widget Area</span>
                                                </label>
                                            </div>
                                        </div>

                                        <!-- Widget Management for this area -->
                                        <div
                                            style="border-top: 1px solid var(--border); padding-top: 20px; margin-top: 20px;">
                                            <h5>Widgets in this Area</h5>
                                            <div class="form-actions" style="margin: 10px 0;">
                                                <button type="button" @click="addWidget(index)"
                                                    class="btn btn-secondary btn-sm">
                                                    <i class="fas fa-plus"></i> Add Widget
                                                </button>
                                            </div>

                                            <div v-for="(widget, wIndex) in area.widgets || []" :key="wIndex"
                                                class="card" style="margin: 10px 0; background: #f8f9fa;">
                                                <div class="card-body">
                                                    <div class="form-row">
                                                        <div class="form-group">
                                                            <label>Widget Type</label>
                                                            <select v-model="widget.type" class="form-control">
                                                                <option value="text">Text Widget</option>
                                                                <option value="html">HTML Widget</option>
                                                                <option value="image">Image Widget</option>
                                                                <option value="social">Social Links</option>
                                                                <option value="contact">Contact Info</option>
                                                                <option value="custom">Custom Widget</option>
                                                            </select>
                                                        </div>
                                                        <div class="form-group">
                                                            <label>Widget Title</label>
                                                            <input type="text" v-model="widget.title"
                                                                placeholder="Widget title" class="form-control">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label>Widget Content</label>
                                                        <textarea v-model="widget.content"
                                                            placeholder="Widget content or HTML..." class="form-control"
                                                            rows="3"></textarea>
                                                    </div>

                                                    <div class="form-actions">
                                                        <button type="button" @click="removeWidget(index, wIndex)"
                                                            class="btn btn-danger btn-sm">
                                                            <i class="fas fa-trash"></i> Remove Widget
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div v-if="!content.widgetAreas || content.widgetAreas.length === 0"
                                    class="empty-state">
                                    <i class="fas fa-th-large fa-3x"></i>
                                    <h4>No Widget Areas</h4>
                                    <p>Click "Add Widget Area" to create reusable content sections</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Backup & Export Tab -->
                    <div v-if="activeTab === 'backup'" class="tab-content active">
                        <div class="content-header">
                            <h1 class="content-title">Backup & Export</h1>
                            <p class="content-subtitle">Backup your content and export site data</p>
                        </div>

                        <!-- Content Backup -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-download"></i> Content Backup</h3>
                                <p class="card-subtitle">Download your website content and settings</p>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label>Backup Type</label>
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="checkbox-label">
                                                <input type="checkbox" v-model="backupOptions.includeContent">
                                                <span>Include Content Data</span>
                                            </label>
                                        </div>
                                        <div class="form-group">
                                            <label class="checkbox-label">
                                                <input type="checkbox" v-model="backupOptions.includeMedia">
                                                <span>Include Media Files</span>
                                            </label>
                                        </div>
                                        <div class="form-group">
                                            <label class="checkbox-label">
                                                <input type="checkbox" v-model="backupOptions.includeSettings">
                                                <span>Include Site Settings</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-actions">
                                    <button type="button" @click="downloadBackup" class="btn btn-primary"
                                        :disabled="downloading">
                                        <i class="fas fa-download"></i>
                                        {{ downloading ? 'Creating Backup...' : 'Download Backup' }}
                                    </button>
                                    <button type="button" @click="exportContent" class="btn btn-secondary">
                                        <i class="fas fa-file-export"></i> Export as JSON
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Import/Restore -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-upload"></i> Import/Restore</h3>
                                <p class="card-subtitle">Restore content from backup files</p>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label>Select Backup File</label>
                                    <input type="file" @change="handleBackupFile" accept=".json,.zip"
                                        class="form-control" ref="backupFileInput">
                                    <div class="form-help">Accepts JSON and ZIP backup files</div>
                                </div>

                                <div v-if="backupFile" class="form-group">
                                    <div class="alert alert-info">
                                        <strong>Selected file:</strong> {{ backupFile.name }} ({{
                                        formatFileSize(backupFile.size) }})
                                    </div>
                                </div>

                                <div class="form-actions">
                                    <button type="button" @click="restoreBackup" class="btn btn-warning"
                                        :disabled="!backupFile || restoring">
                                        <i class="fas fa-upload"></i>
                                        {{ restoring ? 'Restoring...' : 'Restore Backup' }}
                                    </button>
                                </div>

                                <div class="alert alert-warning" style="margin-top: 20px;">
                                    <strong>Warning:</strong> Restoring a backup will overwrite your current content.
                                    Make sure to create a backup first!
                                </div>
                            </div>
                        </div>

                        <!-- Backup History -->
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-history"></i> Recent Backups</h3>
                            </div>
                            <div class="card-body">
                                <div v-if="backupHistory.length > 0" class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Type</th>
                                                <th>Size</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr v-for="backup in backupHistory" :key="backup.id">
                                                <td>{{ formatDate(backup.date) }}</td>
                                                <td>{{ backup.type }}</td>
                                                <td>{{ backup.size }}</td>
                                                <td>
                                                    <button type="button" @click="downloadOldBackup(backup.id)"
                                                        class="btn btn-sm btn-secondary">
                                                        <i class="fas fa-download"></i> Download
                                                    </button>
                                                    <button type="button" @click="deleteBackup(backup.id)"
                                                        class="btn btn-sm btn-danger">
                                                        <i class="fas fa-trash"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div v-else class="empty-state">
                                    <i class="fas fa-history fa-3x"></i>
                                    <h4>No Backup History</h4>
                                    <p>Your backup history will appear here after creating backups</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Media Selection Modal -->
            <div class="modal" :class="{ show: showMediaModal }" @click.self="showMediaModal = false">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 class="modal-title">Select Media</h3>
                        <button class="modal-close" @click="showMediaModal = false">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="media-gallery">
                            <div v-for="media in mediaLibrary" :key="media.id" class="media-item"
                                :class="{ selected: selectedMediaForSelection === media }"
                                @click="selectedMediaForSelection = media">
                                <img :src="media.url" :alt="media.name">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" @click="showMediaModal = false">Cancel</button>
                        <button class="btn btn-primary" @click="confirmMediaSelection"
                            :disabled="!selectedMediaForSelection">Select</button>
                    </div>
                </div>
            </div>

            <!-- Page Content Management Tab -->
            <div v-if="activeTab === 'pageContent'" class="tab-content active">
                <div class="content-header">
                    <h1 class="content-title">
                        <button class="btn btn-secondary btn-sm" @click="activeTab = 'pages'"
                            style="margin-right: 15px;">
                            <i class="fas fa-arrow-left"></i> Back to Pages
                        </button>
                        Page Content: {{ editingPage.title }}
                    </h1>
                    <p class="content-subtitle">Manage components and content for this page</p>
                </div>

                <!-- Page Status -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Page Status & Actions</h3>
                    </div>
                    <div class="card-body">
                        <div class="form-grid cols-3">
                            <div class="form-group">
                                <label class="form-label">Current Status</label>
                                <select class="form-control" v-model="editingPage.status">
                                    <option value="draft">Draft</option>
                                    <option value="published">Published</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Page Template</label>
                                <select class="form-control" v-model="editingPage.template">
                                    <option value="default">Default</option>
                                    <option value="full-width">Full Width</option>
                                    <option value="landing">Landing Page</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Actions</label>
                                <div style="display: flex; gap: 10px;">
                                    <button class="btn btn-primary" @click="savePageContent">
                                        <i class="fas fa-save"></i> Save Changes
                                    </button>
                                    <a v-if="editingPage.status === 'published'" :href="'/pages/' + editingPage.slug"
                                        target="_blank" class="btn btn-success">
                                        <i class="fas fa-external-link-alt"></i> View Page
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Component Management -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Page Components</h3>
                        <p class="card-subtitle">Select and arrange components for your page</p>
                    </div>
                    <div class="card-body">
                        <div class="component-selector">
                            <div class="component-grid">
                                <div class="component-item" v-for="component in availableComponents"
                                    :key="component.type"
                                    :class="{ selected: editingPage.components && editingPage.components.includes(component.type) }"
                                    @click="toggleComponent(component.type)">
                                    <div class="component-icon">
                                        <i :class="component.icon"></i>
                                    </div>
                                    <div class="component-name">{{ component.name }}</div>
                                    <div class="component-description">{{ component.description }}</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 20px;">
                            <label class="form-label">Selected Components Preview</label>
                            <div v-if="editingPage.components && editingPage.components.length > 0"
                                class="selected-components">
                                <div class="selected-component" v-for="(component, index) in editingPage.components"
                                    :key="component">
                                    <span class="component-order">{{ index + 1 }}.</span>
                                    <span class="component-label">{{ getComponentName(component) }}</span>
                                    <button class="btn btn-sm btn-danger" @click="removeComponent(component)">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <div v-else class="empty-state-small">
                                <p>No components selected. Choose components above to build your page.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Custom Content -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Custom Content</h3>
                        <p class="card-subtitle">Additional HTML content (will appear after components)</p>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <textarea class="form-control" v-model="editingPage.content" rows="12"
                                placeholder="Enter custom HTML content here..."></textarea>
                            <div class="form-help">
                                You can use HTML tags and Vue.js template syntax.
                                This content will be displayed after all selected components.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SEO Settings -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">SEO Settings</h3>
                    </div>
                    <div class="card-body">
                        <div class="form-group">
                            <label class="form-label">Meta Description</label>
                            <textarea class="form-control" v-model="editingPage.metaDescription"
                                placeholder="Description for search engines" maxlength="160"></textarea>
                            <div class="form-help">{{ (editingPage.metaDescription || '').length }}/160 characters</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Page Editor Modal -->
            <div class="modal" :class="{ show: showPageModal }" @click.self="showPageModal = false">
                <div class="modal-content" style="max-width: 800px;">
                    <div class="modal-header">
                        <h3 class="modal-title">{{ editingPage.id ? 'Edit Page' : 'Create New Page' }}</h3>
                        <button class="modal-close" @click="showPageModal = false">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label required">Page Title</label>
                            <input type="text" class="form-control" v-model="editingPage.title"
                                placeholder="Page title">
                        </div>

                        <div class="form-group">
                            <label class="form-label required">Page Slug</label>
                            <input type="text" class="form-control" v-model="editingPage.slug"
                                placeholder="page-url-slug">
                            <div class="form-help">This will be the URL: yoursite.com/{{ editingPage.slug }}</div>
                        </div>

                        <!-- Page Components Selection -->
                        <div class="form-group">
                            <label class="form-label">Page Components</label>
                            <div class="component-selector">
                                <div class="component-grid">
                                    <div class="component-item" v-for="component in availableComponents"
                                        :key="component.type"
                                        :class="{ selected: editingPage.components && editingPage.components.includes(component.type) }"
                                        @click="toggleComponent(component.type)">
                                        <div class="component-icon">
                                            <i :class="component.icon"></i>
                                        </div>
                                        <div class="component-name">{{ component.name }}</div>
                                        <div class="component-description">{{ component.description }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Custom Content (Optional)</label>
                            <textarea class="form-control" v-model="editingPage.content" rows="6"
                                placeholder="Additional custom HTML content"></textarea>
                            <div class="form-help">This content will be added after the selected components</div>
                        </div>

                        <div class="form-grid cols-2">
                            <div class="form-group">
                                <label class="form-label">Status</label>
                                <select class="form-control" v-model="editingPage.status">
                                    <option value="draft">Draft</option>
                                    <option value="published">Published</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Template</label>
                                <select class="form-control" v-model="editingPage.template">
                                    <option value="default">Default</option>
                                    <option value="full-width">Full Width</option>
                                    <option value="landing">Landing Page</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label class="form-label">SEO Meta Description</label>
                            <textarea class="form-control" v-model="editingPage.metaDescription"
                                placeholder="Page description for search engines" maxlength="160"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-secondary" @click="showPageModal = false">Cancel</button>
                        <button class="btn btn-primary" @click="savePage">{{ editingPage.id ? 'Update Page' : 'Create
                            Page' }}</button>
                    </div>
                </div>
            </div>

            <!-- Notifications -->
            <div v-for="notification in notifications" :key="notification.id"
                :class="['notification', notification.type, { show: notification.show }]"
                :style="{ top: (20 + notifications.indexOf(notification) * 70) + 'px' }">
                <i :class="getNotificationIcon(notification.type)"></i>
                {{ notification.message }}
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="quick-action" @click="previewSite" title="Preview Site">
                    <i class="fas fa-eye"></i>
                </div>
            </div>
        </div>

        <script>
            const { createApp } = Vue;

            createApp({
                data() {
                    return {
                        activeTab: 'dashboard',
                        homepageTab: 'hero',
                        sidebarCollapsed: false,
                        showMobileSidebar: false,
                        saving: false,
                        content: null,
                        pages: [],
                        mediaLibrary: [],
                        stats: {
                            pages: 0,
                            media: 0,
                            visitors: '1.2K',
                            performance: '98%'
                        },
                        recentActivity: [],
                        notifications: [],
                        showMediaModal: false,
                        showPageModal: false,
                        selectedMedia: null,
                        selectedMediaForSelection: null,
                        mediaSelectionCallback: null,
                        mediaSearch: '',
                        editingPage: {
                            title: '',
                            slug: '',
                            content: '',
                            status: 'draft',
                            template: 'default',
                            metaDescription: '',
                            components: []
                        },
                        availableComponents: [
                            {
                                type: 'hero',
                                name: 'Hero Section',
                                description: 'Large banner with title, subtitle and call-to-action',
                                icon: 'fas fa-image'
                            },
                            {
                                type: 'cards',
                                name: 'Card Grid',
                                description: 'Responsive grid of cards with images and text',
                                icon: 'fas fa-th-large'
                            },
                            {
                                type: 'accordion',
                                name: 'Accordion',
                                description: 'Collapsible content sections for FAQs or features',
                                icon: 'fas fa-list'
                            },
                            {
                                type: 'form',
                                name: 'Contact Form',
                                description: 'Professional contact form with validation',
                                icon: 'fas fa-envelope'
                            },
                            {
                                type: 'datatable',
                                name: 'Data Table',
                                description: 'Sortable and searchable data table',
                                icon: 'fas fa-table'
                            },
                            {
                                type: 'testimonials',
                                name: 'Testimonials',
                                description: 'Customer testimonials carousel',
                                icon: 'fas fa-quote-left'
                            },
                            {
                                type: 'gallery',
                                name: 'Image Gallery',
                                description: 'Responsive image gallery with lightbox',
                                icon: 'fas fa-images'
                            },
                            {
                                type: 'pricing',
                                name: 'Pricing Table',
                                description: 'Comparison table for pricing plans',
                                icon: 'fas fa-dollar-sign'
                            },
                            {
                                type: 'team',
                                name: 'Team Section',
                                description: 'Team member profiles with photos',
                                icon: 'fas fa-users'
                            },
                            {
                                type: 'stats',
                                name: 'Statistics',
                                description: 'Animated counter statistics',
                                icon: 'fas fa-chart-bar'
                            }
                        ],
                        seoSettings: {
                            metaDescription: '',
                            metaKeywords: '',
                            googleAnalytics: ''
                        },
                        currentPageId: null,
                        backupOptions: {
                            includeContent: true,
                            includeMedia: false,
                            includeSettings: true
                        },
                        downloading: false,
                        restoring: false,
                        backupFile: null,
                        backupHistory: []
                    }
                },
                computed: {
                    filteredMedia() {
                        if (!this.mediaSearch) return this.mediaLibrary;
                        return this.mediaLibrary.filter(media =>
                            media.name.toLowerCase().includes(this.mediaSearch.toLowerCase())
                        );
                    }
                },
                async mounted() {
                    await this.loadContent();
                    await this.loadPages();
                    await this.loadMediaLibrary();
                    await this.loadSEOSettings();
                    await this.loadBackupHistory();
                    this.initializeEventListeners();
                },
                methods: {
                    async loadContent() {
                        try {
                            const response = await fetch('/api/content');
                            this.content = await response.json();

                            // Initialize missing sections
                            if (!this.content.hero) this.content.hero = { slides: [] };
                            if (!this.content.services) this.content.services = { items: [], sectionTitle: '', sectionSubtitle: '' };
                            if (!this.content.featuresSection) this.content.featuresSection = { items: [], title: '', subtitle: '' };
                            if (!this.content.aboutSection) this.content.aboutSection = { title: '', description: '', image: '' };
                            if (!this.content.latestNews) this.content.latestNews = [];
                            if (!this.content.projectsSection) this.content.projectsSection = {
                                title: 'Latest Projects',
                                subtitle: 'Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.',
                                projects: [],
                                showMoreButton: true,
                                moreButtonText: 'MORE PROJECT',
                                moreButtonLink: '/projects'
                            };
                            if (!this.content.newsletter) this.content.newsletter = {
                                title: 'Get Latest Offers',
                                subtitle: 'Sed odio orci, fringilla nec dolor et, euismod auctor mauris. Curabitur semper dui diam, nec accumsan mauris consequat sed.',
                                enabled: true,
                                actionUrl: '',
                                namePlaceholder: 'Your Name',
                                emailPlaceholder: 'Your Email',
                                buttonText: 'Subscribe',
                                successMessage: 'Thank you for subscribing!',
                                requireName: true,
                                showPrivacyText: false,
                                privacyText: 'We respect your privacy and will never share your information.',
                                backgroundColor: '#f8f9f9',
                                textColor: '#333333',
                                buttonColor: '#FFD200',
                                buttonTextColor: '#333333'
                            };
                            if (!this.content.quoteSection) this.content.quoteSection = {
                                text: 'We help hardware startups integrate technology, scale and desirability without compromise',
                                author: '',
                                backgroundColor: '#FFD200',
                                textColor: '#333333',
                                fontSize: 'medium',
                                enabled: true
                            };
                            if (!this.content.widgetAreas) this.content.widgetAreas = [];
                            if (!this.content.navigation) this.content.navigation = { mainMenu: [] };
                            if (!this.content.siteSettings) this.content.siteSettings = {};

                            // Initialize color settings
                            if (!this.content.siteSettings.primaryColor) this.content.siteSettings.primaryColor = '#FFD200';
                            if (!this.content.siteSettings.secondaryColor) this.content.siteSettings.secondaryColor = '#484939';
                            if (!this.content.siteSettings.tertiaryColor) this.content.siteSettings.tertiaryColor = '#1E3A8A';
                            if (!this.content.siteSettings.accentColor) this.content.siteSettings.accentColor = '#FF6B35';

                            // Initialize logo settings
                            if (!this.content.siteSettings.logo) {
                                this.content.siteSettings.logo = {
                                    main: '',
                                    transparent: '',
                                    width: '',
                                    height: '',
                                    altText: 'Company Logo',
                                    linkUrl: '/',
                                    linkTarget: '_self',
                                    showAltText: false
                                };
                            } else if (typeof this.content.siteSettings.logo === 'string') {
                                // Convert old string logo to new object structure
                                const oldLogo = this.content.siteSettings.logo;
                                this.content.siteSettings.logo = {
                                    main: oldLogo,
                                    transparent: '',
                                    width: '',
                                    height: '',
                                    altText: 'Company Logo',
                                    linkUrl: '/',
                                    linkTarget: '_self',
                                    showAltText: false
                                };
                            }
                            if (!this.content.footer) this.content.footer = {
                                contact: {},
                                layout: 'triple',
                                columns: [
                                    {
                                        title: 'Company',
                                        type: 'logo',
                                        logo: '',
                                        description: 'Your company description goes here.'
                                    },
                                    {
                                        title: 'Get In Touch',
                                        type: 'contact',
                                        contact: {
                                            phone: '+1 234 567 8900',
                                            email: 'info@yoursite.com',
                                            address: 'Your business address'
                                        }
                                    },
                                    {
                                        title: 'Newsletter',
                                        type: 'newsletter',
                                        newsletter: {
                                            description: 'Subscribe to our newsletter for updates',
                                            buttonText: 'Subscribe',
                                            actionUrl: '#'
                                        }
                                    }
                                ],
                                copyright: '\u00A9 2024 Your Company Name. All rights reserved.',
                                additionalText: ''
                            };

                            // Initialize advanced navbar settings
                            if (!this.content.siteSettings.navbar) {
                                this.content.siteSettings.navbar = {
                                    backgroundType: 'color',
                                    backgroundColor: '#ffffff',
                                    textColor: '#333333',
                                    gradientStart: '#FFD200',
                                    gradientEnd: '#FF6B35',
                                    backgroundImage: '',
                                    backgroundPosition: 'center center',
                                    backgroundRepeat: 'no-repeat',
                                    backgroundSize: 'cover',
                                    position: 'fixed',
                                    opacity: 100,
                                    shadow: 'small',
                                    dropdown: {
                                        backgroundType: 'color',
                                        backgroundColor: '#ffffff',
                                        textColor: '#333333',
                                        backgroundImage: ''
                                    }
                                };
                            }

                            // Initialize sections styling if missing
                            if (!this.content.siteSettings.sections) {
                                this.content.siteSettings.sections = {
                                    hero: {
                                        backgroundType: 'gradient',
                                        backgroundColor: '#f8f9fa',
                                        gradientStart: '#FFD200',
                                        gradientEnd: '#FF6B35',
                                        backgroundImage: '',
                                        textColor: '#333333'
                                    },
                                    footer: {
                                        backgroundColor: '#2c3e50',
                                        textColor: '#ecf0f1'
                                    }
                                };
                            }

                        } catch (error) {
                            this.showNotification('Error loading content: ' + error.message, 'error');
                        }
                    },

                    async loadPages() {
                        try {
                            const response = await fetch('/api/pages');
                            if (response.ok) {
                                this.pages = await response.json();
                                this.stats.pages = this.pages.length;
                            } else {
                                throw new Error('Failed to load pages');
                            }
                        } catch (error) {
                            this.showNotification('Error loading pages: ' + error.message, 'error');
                            this.pages = [];
                            this.stats.pages = 0;
                        }
                    },

                    async loadMediaLibrary() {
                        try {
                            const response = await fetch('/api/media-library');
                            if (response.ok) {
                                this.mediaLibrary = await response.json();
                                this.stats.media = this.mediaLibrary.length;
                            } else {
                                throw new Error('Failed to load media library');
                            }
                        } catch (error) {
                            this.showNotification('Error loading media library: ' + error.message, 'error');
                            this.mediaLibrary = [];
                            this.stats.media = 0;
                        }
                    },

                    setActiveTab(tab) {
                        this.activeTab = tab;
                        this.showMobileSidebar = false;
                    },

                    getTabTitle(tab) {
                        const titles = {
                            dashboard: 'Dashboard',
                            pages: 'Pages',
                            homepage: 'Homepage',
                            navigation: 'Navigation',
                            media: 'Media Library',
                            themes: 'Theme Settings',
                            widgets: 'Widgets',
                            settings: 'General Settings',
                            seo: 'SEO Settings',
                            backup: 'Backup & Export'
                        };
                        return titles[tab] || tab;
                    },

                    toggleSidebar() {
                        if (window.innerWidth <= 768) {
                            this.showMobileSidebar = !this.showMobileSidebar;
                        } else {
                            this.sidebarCollapsed = !this.sidebarCollapsed;
                        }
                    },

                    async saveAllContent() {
                        this.saving = true;
                        try {
                            const response = await fetch('/api/content', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(this.content)
                            });

                            if (response.ok) {
                                this.showNotification('Content saved successfully!', 'success');
                            } else {
                                throw new Error('Failed to save content');
                            }
                        } catch (error) {
                            this.showNotification('Error saving content: ' + error.message, 'error');
                        } finally {
                            this.saving = false;
                        }
                    },

                    // Hero Slider Methods
                    addHeroSlide() {
                        if (!this.content.hero.slides) this.content.hero.slides = [];
                        this.content.hero.slides.push({
                            title: '',
                            subtitle: '',
                            image: '',
                            buttons: [],
                            titleColor: 'primary',
                            subtitleColor: 'white',
                            titleColorCustom: '#FFD200',
                            subtitleColorCustom: '#FFFFFF'
                        });
                    },

                    removeHeroSlide(index) {
                        this.content.hero.slides.splice(index, 1);
                    },

                    addButtonToSlide(slideIndex) {
                        if (!this.content.hero.slides[slideIndex].buttons) {
                            this.content.hero.slides[slideIndex].buttons = [];
                        }
                        this.content.hero.slides[slideIndex].buttons.push({
                            text: '',
                            url: '',
                            type: 'primary'
                        });
                    },

                    selectImageForSlide(index) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.hero.slides[index].image = selectedMedia.url;
                        });
                    },

                    // Services Methods
                    addService() {
                        if (!this.content.services.items) this.content.services.items = [];
                        this.content.services.items.push({
                            title: '',
                            description: '',
                            image: ''
                        });
                    },

                    removeService(index) {
                        this.content.services.items.splice(index, 1);
                    },
                    addProject() {
                        if (!this.content.projectsSection) this.content.projectsSection = {};
                        if (!this.content.projectsSection.projects) this.content.projectsSection.projects = [];
                        this.content.projectsSection.projects.push({
                            title: '',
                            category: '',
                            image: '',
                            link: '',
                            description: ''
                        });
                    },
                    removeProject(index) {
                        this.content.projectsSection.projects.splice(index, 1);
                    },

                    selectImageForService(index) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.services.items[index].image = selectedMedia.url;
                        });
                    },

                    // Features Methods
                    addFeature() {
                        if (!this.content.featuresSection.items) this.content.featuresSection.items = [];
                        this.content.featuresSection.items.push({
                            title: '',
                            description: '',
                            icon: ''
                        });
                    },

                    removeFeature(index) {
                        this.content.featuresSection.items.splice(index, 1);
                    },

                    selectImageForFeature(index) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.featuresSection.items[index].icon = selectedMedia.url;
                        });
                    },

                    // News Methods
                    addNews() {
                        if (!this.content.latestNews) this.content.latestNews = [];
                        this.content.latestNews.push({
                            title: '',
                            excerpt: '',
                            image: '',
                            date: new Date().toISOString().split('T')[0],
                            link: ''
                        });
                    },

                    removeNews(index) {
                        this.content.latestNews.splice(index, 1);
                    },

                    selectImageForNews(index) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.latestNews[index].image = selectedMedia.url;
                        });
                    },

                    // Navigation Methods
                    addMenuItem() {
                        if (!this.content.navigation.mainMenu) this.content.navigation.mainMenu = [];
                        this.content.navigation.mainMenu.push({
                            title: '',
                            url: '',
                            hasDropdown: false,
                            children: []
                        });
                    },

                    removeMenuItem(index) {
                        this.content.navigation.mainMenu.splice(index, 1);
                    },

                    addSubMenuItem(menuIndex, columnIndex = null) {
                        const menuItem = this.content.navigation.mainMenu[menuIndex];

                        if (columnIndex !== null) {
                            // Multicolumn dropdown
                            if (!menuItem.columns[columnIndex].items) {
                                menuItem.columns[columnIndex].items = [];
                            }
                            menuItem.columns[columnIndex].items.push({
                                title: '',
                                url: ''
                            });
                        } else {
                            // Single column dropdown
                            if (!menuItem.children) {
                                menuItem.children = [];
                            }
                            menuItem.children.push({
                                title: '',
                                url: ''
                            });
                        }
                    },

                    removeSubMenuItem(menuIndex, columnIndex, subIndex) {
                        this.content.navigation.mainMenu[menuIndex].columns[columnIndex].items.splice(subIndex, 1);
                    },

                    addSimpleSubMenuItem(menuIndex) {
                        const menuItem = this.content.navigation.mainMenu[menuIndex];
                        if (!menuItem.children) {
                            menuItem.children = [];
                        }
                        menuItem.children.push({
                            title: '',
                            url: ''
                        });
                    },

                    removeSimpleSubMenuItem(menuIndex, childIndex) {
                        this.content.navigation.mainMenu[menuIndex].children.splice(childIndex, 1);
                    },

                    initializeDropdown(item) {
                        if (item.hasDropdown) {
                            if (!item.dropdownLayout) {
                                item.dropdownLayout = 'single';
                            }
                            if (!item.children) {
                                item.children = [];
                            }
                            if (item.dropdownLayout !== 'single' && !item.columns) {
                                item.columns = [{ title: '', items: [], backgroundImage: '' }];
                            }
                        }
                    },

                    addColumn(menuIndex) {
                        const menuItem = this.content.navigation.mainMenu[menuIndex];
                        if (!menuItem.columns) {
                            menuItem.columns = [];
                        }
                        menuItem.columns.push({
                            title: '',
                            items: [],
                            backgroundImage: ''
                        });
                    },

                    removeColumn(menuIndex, columnIndex) {
                        this.content.navigation.mainMenu[menuIndex].columns.splice(columnIndex, 1);
                    },

                    getMaxColumns(layout) {
                        switch (layout) {
                            case 'double': return 2;
                            case 'triple': return 3;
                            case 'mega': return 6;
                            default: return 1;
                        }
                    },

                    // Enhanced Image Selection Methods
                    selectNavbarBackground() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings.navbar) this.content.siteSettings.navbar = {};
                            this.content.siteSettings.navbar.backgroundImage = selectedMedia.url;
                        });
                    },

                    selectDropdownBackground() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings.navbar.dropdown) this.content.siteSettings.navbar.dropdown = {};
                            this.content.siteSettings.navbar.dropdown.backgroundImage = selectedMedia.url;
                        });
                    },

                    selectColumnBackground(menuIndex, columnIndex) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.navigation.mainMenu[menuIndex].columns[columnIndex].backgroundImage = selectedMedia.url;
                        });
                    },

                    // Footer Management Methods
                    addFooterColumn() {
                        if (!this.content.footer.columns) this.content.footer.columns = [];
                        this.content.footer.columns.push({
                            title: '',
                            type: 'links',
                            links: [],
                            contact: {},
                            socialLinks: [],
                            newsletter: {},
                            customContent: ''
                        });
                    },

                    removeFooterColumn(columnIndex) {
                        this.content.footer.columns.splice(columnIndex, 1);
                    },

                    getMaxFooterColumns() {
                        const layout = this.content?.footer?.layout;
                        switch (layout) {
                            case 'single': return 1;
                            case 'double': return 2;
                            case 'triple': return 3;
                            case 'quad': return 4;
                            default: return 1;
                        }
                    },

                    addFooterLink(columnIndex) {
                        const column = this.content.footer.columns[columnIndex];
                        if (!column.links) column.links = [];
                        column.links.push({ title: '', url: '' });
                    },

                    removeFooterLink(columnIndex, linkIndex) {
                        this.content.footer.columns[columnIndex].links.splice(linkIndex, 1);
                    },

                    addSocialLink(columnIndex) {
                        const column = this.content.footer.columns[columnIndex];
                        if (!column.socialLinks) column.socialLinks = [];
                        column.socialLinks.push({ platform: 'facebook', url: '', label: '' });
                    },

                    removeSocialLink(columnIndex, socialIndex) {
                        this.content.footer.columns[columnIndex].socialLinks.splice(socialIndex, 1);
                    },

                    selectColumnLogo(columnIndex) {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.footer.columns[columnIndex].logo = selectedMedia.url;
                        });
                    },

                    // Image Selection Methods
                    selectAboutImage() {
                        this.openMediaSelection((selectedMedia) => {
                            this.content.aboutSection.image = selectedMedia.url;
                        });
                    },

                    selectLogo() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings.logo || typeof this.content.siteSettings.logo === 'string') {
                                this.content.siteSettings.logo = {};
                            }
                            this.content.siteSettings.logo.main = selectedMedia.url;
                        });
                    },

                    selectMainLogo() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings.logo) this.content.siteSettings.logo = {};
                            this.content.siteSettings.logo.main = selectedMedia.url;
                        });
                    },

                    selectTransparentLogo() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings.logo) this.content.siteSettings.logo = {};
                            this.content.siteSettings.logo.transparent = selectedMedia.url;
                        });
                    },

                    selectFavicon() {
                        this.openMediaSelection((selectedMedia) => {
                            if (!this.content.siteSettings) this.content.siteSettings = {};
                            this.content.siteSettings.favicon = selectedMedia.url;
                        }, {
                            accept: '.ico,.png,.gif',
                            title: 'Select Favicon',
                            description: 'Choose a favicon file (.ico, .png, or .gif). Recommended size: 32x32 or 16x16 pixels.'
                        });
                    },

                    getLogoStyle() {
                        const style = {};
                        if (this.content?.siteSettings?.logo?.width) {
                            style.width = this.content.siteSettings.logo.width + 'px';
                        }
                        if (this.content?.siteSettings?.logo?.height) {
                            style.height = this.content.siteSettings.logo.height + 'px';
                        }
                        return style;
                    },

                    openMediaSelection(callback) {
                        this.mediaSelectionCallback = callback;
                        this.selectedMediaForSelection = null;
                        this.showMediaModal = true;
                    },

                    confirmMediaSelection() {
                        if (this.selectedMediaForSelection && this.mediaSelectionCallback) {
                            this.mediaSelectionCallback(this.selectedMediaForSelection);
                        }
                        this.showMediaModal = false;
                        this.mediaSelectionCallback = null;
                    },

                    selectMedia(media) {
                        this.selectedMedia = media;
                    },

                    // Media Library Methods
                    triggerFileUpload() {
                        this.$refs.fileInput.click();
                    },

                    async handleFileUpload(event) {
                        const files = Array.from(event.target.files);
                        await this.uploadFiles(files);
                    },

                    async handleFileDrop(event) {
                        const files = Array.from(event.dataTransfer.files);
                        await this.uploadFiles(files);
                    },

                    async uploadFiles(files) {
                        for (const file of files) {
                            try {
                                const formData = new FormData();
                                formData.append('file', file);

                                const response = await fetch('/api/upload', {
                                    method: 'POST',
                                    body: formData
                                });

                                if (response.ok) {
                                    const result = await response.json();
                                    this.showNotification(`Uploaded ${file.name}`, 'success');
                                } else {
                                    const error = await response.json();
                                    throw new Error(error.error || 'Upload failed');
                                }
                            } catch (error) {
                                this.showNotification(`Failed to upload ${file.name}: ${error.message}`, 'error');
                            }
                        }
                        // Refresh media library after uploads
                        await this.loadMediaLibrary();
                    },

                    editMedia(media) {
                        // Implement media editing
                        this.showNotification('Media editing coming soon!', 'info');
                    },

                    async deleteMedia(media) {
                        if (confirm('Are you sure you want to delete this media file?')) {
                            try {
                                const filename = media.name;
                                const response = await fetch(`/api/media/${filename}`, {
                                    method: 'DELETE'
                                });

                                if (response.ok) {
                                    const index = this.mediaLibrary.indexOf(media);
                                    this.mediaLibrary.splice(index, 1);
                                    this.stats.media = this.mediaLibrary.length;
                                    this.showNotification('Media file deleted successfully', 'success');
                                } else {
                                    const error = await response.json();
                                    throw new Error(error.error || 'Failed to delete media file');
                                }
                            } catch (error) {
                                this.showNotification('Error deleting media: ' + error.message, 'error');
                            }
                        }
                    },

                    // Page Management Methods
                    createNewPage() {
                        this.editingPage = {
                            title: '',
                            slug: '',
                            content: '',
                            status: 'draft',
                            template: 'default',
                            metaDescription: '',
                            components: []
                        };
                        this.showPageModal = true;
                    },

                    toggleComponent(componentType) {
                        if (!this.editingPage.components) {
                            this.editingPage.components = [];
                        }

                        const index = this.editingPage.components.indexOf(componentType);
                        if (index > -1) {
                            this.editingPage.components.splice(index, 1);
                        } else {
                            this.editingPage.components.push(componentType);
                        }
                    },

                    editPage(page) {
                        this.editingPage = { ...page };
                        this.showPageModal = true;
                    },

                    managePageContent(page) {
                        // Create a dedicated content management tab for this page
                        this.editingPage = {
                            ...page,
                            components: page.components || [],
                            content: page.content || ''
                        };
                        this.activeTab = 'pageContent';
                        this.currentPageId = page.id;
                    },

                    getComponentName(componentType) {
                        const component = this.availableComponents.find(c => c.type === componentType);
                        return component ? component.name : componentType;
                    },

                    removeComponent(componentType) {
                        const index = this.editingPage.components.indexOf(componentType);
                        if (index > -1) {
                            this.editingPage.components.splice(index, 1);
                        }
                    },

                    async savePageContent() {
                        if (!this.editingPage.id) {
                            this.showNotification('Page ID not found', 'error');
                            return;
                        }

                        try {
                            const response = await fetch(`/api/pages/${this.editingPage.id}`, {
                                method: 'PUT',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(this.editingPage)
                            });

                            if (response.ok) {
                                const savedPage = await response.json();
                                // Update the page in the pages array
                                const pageIndex = this.pages.findIndex(p => p.id === this.editingPage.id);
                                if (pageIndex > -1) {
                                    this.pages[pageIndex] = savedPage;
                                }
                                this.showNotification('Page content saved successfully', 'success');

                                // Show status change notification
                                if (savedPage.status === 'published') {
                                    this.showNotification('Page is now published and accessible to users', 'info');
                                }
                            } else {
                                const error = await response.json();
                                throw new Error(error.error || 'Failed to save page content');
                            }
                        } catch (error) {
                            this.showNotification('Error saving page content: ' + error.message, 'error');
                        }
                    },

                    async savePage() {
                        if (!this.editingPage.title || !this.editingPage.slug) {
                            this.showNotification('Please fill in required fields', 'error');
                            return;
                        }

                        try {
                            let response;
                            if (this.editingPage.id) {
                                // Update existing page
                                response = await fetch(`/api/pages/${this.editingPage.id}`, {
                                    method: 'PUT',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify(this.editingPage)
                                });
                            } else {
                                // Create new page
                                response = await fetch('/api/pages', {
                                    method: 'POST',
                                    headers: { 'Content-Type': 'application/json' },
                                    body: JSON.stringify(this.editingPage)
                                });
                            }

                            if (response.ok) {
                                const savedPage = await response.json();
                                if (this.editingPage.id) {
                                    const index = this.pages.findIndex(p => p.id === this.editingPage.id);
                                    this.pages[index] = savedPage;
                                    this.showNotification('Page updated successfully', 'success');
                                } else {
                                    this.pages.push(savedPage);
                                    this.showNotification('Page created successfully', 'success');
                                }
                                this.stats.pages = this.pages.length;
                                this.showPageModal = false;
                            } else {
                                const error = await response.json();
                                throw new Error(error.error || 'Failed to save page');
                            }
                        } catch (error) {
                            this.showNotification('Error saving page: ' + error.message, 'error');
                        }
                    },

                    async deletePage(page) {
                        if (confirm('Are you sure you want to delete this page?')) {
                            try {
                                const response = await fetch(`/api/pages/${page.id}`, {
                                    method: 'DELETE'
                                });

                                if (response.ok) {
                                    const index = this.pages.indexOf(page);
                                    this.pages.splice(index, 1);
                                    this.stats.pages = this.pages.length;
                                    this.showNotification('Page deleted successfully', 'success');
                                } else {
                                    const error = await response.json();
                                    throw new Error(error.error || 'Failed to delete page');
                                }
                            } catch (error) {
                                this.showNotification('Error deleting page: ' + error.message, 'error');
                            }
                        }
                    },

                    // SEO Settings Methods
                    async loadSEOSettings() {
                        try {
                            const response = await fetch('/api/seo');
                            if (response.ok) {
                                this.seoSettings = await response.json();
                            } else {
                                throw new Error('Failed to load SEO settings');
                            }
                        } catch (error) {
                            this.showNotification('Error loading SEO settings: ' + error.message, 'error');
                        }
                    },

                    async saveSEOSettings() {
                        try {
                            const response = await fetch('/api/seo', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(this.seoSettings)
                            });

                            if (response.ok) {
                                this.showNotification('SEO settings saved successfully', 'success');
                            } else {
                                const error = await response.json();
                                throw new Error(error.error || 'Failed to save SEO settings');
                            }
                        } catch (error) {
                            this.showNotification('Error saving SEO settings: ' + error.message, 'error');
                        }
                    },

                    // Widget Management Methods
                    addWidgetArea() {
                        if (!this.content.widgetAreas) this.content.widgetAreas = [];
                        this.content.widgetAreas.push({
                            name: '',
                            id: '',
                            description: '',
                            enabled: true,
                            widgets: []
                        });
                    },

                    removeWidgetArea(index) {
                        this.content.widgetAreas.splice(index, 1);
                    },

                    addWidget(areaIndex) {
                        if (!this.content.widgetAreas[areaIndex].widgets) {
                            this.content.widgetAreas[areaIndex].widgets = [];
                        }
                        this.content.widgetAreas[areaIndex].widgets.push({
                            type: 'text',
                            title: '',
                            content: ''
                        });
                    },

                    removeWidget(areaIndex, widgetIndex) {
                        this.content.widgetAreas[areaIndex].widgets.splice(widgetIndex, 1);
                    },

                    // Backup & Export Methods
                    async downloadBackup() {
                        this.downloading = true;
                        try {
                            const backupData = {
                                content: this.backupOptions.includeContent ? this.content : null,
                                pages: this.backupOptions.includeContent ? this.pages : null,
                                settings: this.backupOptions.includeSettings ? this.seoSettings : null,
                                media: this.backupOptions.includeMedia ? this.mediaLibrary : null,
                                timestamp: new Date().toISOString(),
                                version: '1.0'
                            };

                            const response = await fetch('/api/backup', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(backupData)
                            });

                            if (response.ok) {
                                const blob = await response.blob();
                                const url = window.URL.createObjectURL(blob);
                                const a = document.createElement('a');
                                a.href = url;
                                a.download = `backup-${new Date().toISOString().split('T')[0]}.json`;
                                document.body.appendChild(a);
                                a.click();
                                document.body.removeChild(a);
                                window.URL.revokeObjectURL(url);

                                this.showNotification('Backup downloaded successfully', 'success');
                                await this.loadBackupHistory();
                            } else {
                                throw new Error('Failed to create backup');
                            }
                        } catch (error) {
                            this.showNotification('Error creating backup: ' + error.message, 'error');
                        } finally {
                            this.downloading = false;
                        }
                    },

                    async exportContent() {
                        try {
                            const exportData = {
                                content: this.content,
                                pages: this.pages,
                                settings: this.seoSettings,
                                timestamp: new Date().toISOString()
                            };

                            const dataStr = JSON.stringify(exportData, null, 2);
                            const dataBlob = new Blob([dataStr], { type: 'application/json' });
                            const url = window.URL.createObjectURL(dataBlob);
                            const a = document.createElement('a');
                            a.href = url;
                            a.download = `content-export-${new Date().toISOString().split('T')[0]}.json`;
                            document.body.appendChild(a);
                            a.click();
                            document.body.removeChild(a);
                            window.URL.revokeObjectURL(url);

                            this.showNotification('Content exported successfully', 'success');
                        } catch (error) {
                            this.showNotification('Error exporting content: ' + error.message, 'error');
                        }
                    },

                    handleBackupFile(event) {
                        const file = event.target.files[0];
                        if (file) {
                            this.backupFile = file;
                        }
                    },

                    async restoreBackup() {
                        if (!this.backupFile) return;

                        this.restoring = true;
                        try {
                            const text = await this.backupFile.text();
                            const backupData = JSON.parse(text);

                            const response = await fetch('/api/restore', {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(backupData)
                            });

                            if (response.ok) {
                                this.showNotification('Backup restored successfully', 'success');
                                await this.loadContent();
                                await this.loadPages();
                                await this.loadSEOSettings();
                                this.backupFile = null;
                                this.$refs.backupFileInput.value = '';
                            } else {
                                const error = await response.json();
                                throw new Error(error.error || 'Failed to restore backup');
                            }
                        } catch (error) {
                            this.showNotification('Error restoring backup: ' + error.message, 'error');
                        } finally {
                            this.restoring = false;
                        }
                    },

                    async loadBackupHistory() {
                        try {
                            const response = await fetch('/api/backup/history');
                            if (response.ok) {
                                this.backupHistory = await response.json();
                            }
                        } catch (error) {
                            console.error('Error loading backup history:', error);
                        }
                    },

                    async downloadOldBackup(backupId) {
                        try {
                            const response = await fetch(`/api/backup/${backupId}`);
                            if (response.ok) {
                                const blob = await response.blob();
                                const url = window.URL.createObjectURL(blob);
                                const a = document.createElement('a');
                                a.href = url;
                                a.download = `backup-${backupId}.json`;
                                document.body.appendChild(a);
                                a.click();
                                document.body.removeChild(a);
                                window.URL.revokeObjectURL(url);
                            }
                        } catch (error) {
                            this.showNotification('Error downloading backup: ' + error.message, 'error');
                        }
                    },

                    async deleteBackup(backupId) {
                        if (confirm('Are you sure you want to delete this backup?')) {
                            try {
                                const response = await fetch(`/api/backup/${backupId}`, {
                                    method: 'DELETE'
                                });
                                if (response.ok) {
                                    this.showNotification('Backup deleted successfully', 'success');
                                    await this.loadBackupHistory();
                                }
                            } catch (error) {
                                this.showNotification('Error deleting backup: ' + error.message, 'error');
                            }
                        }
                    },

                    // Utility Methods
                    formatDate(dateString) {
                        return new Date(dateString).toLocaleDateString();
                    },

                    formatFileSize(bytes) {
                        if (bytes === 0) return '0 Bytes';
                        const k = 1024;
                        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                        const i = Math.floor(Math.log(bytes) / Math.log(k));
                        return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
                    },

                    previewSite() {
                        window.open('/', '_blank');
                    },

                    showNotification(message, type = 'info') {
                        const notification = {
                            id: Date.now(),
                            message,
                            type,
                            show: false
                        };

                        this.notifications.push(notification);

                        setTimeout(() => {
                            notification.show = true;
                        }, 100);

                        setTimeout(() => {
                            notification.show = false;
                            setTimeout(() => {
                                const index = this.notifications.indexOf(notification);
                                this.notifications.splice(index, 1);
                            }, 300);
                        }, 4000);
                    },

                    getNotificationIcon(type) {
                        const icons = {
                            success: 'fas fa-check-circle',
                            error: 'fas fa-exclamation-circle',
                            warning: 'fas fa-exclamation-triangle',
                            info: 'fas fa-info-circle'
                        };
                        return icons[type] || icons.info;
                    },

                    initializeEventListeners() {
                        // Handle responsive sidebar
                        window.addEventListener('resize', () => {
                            if (window.innerWidth > 768) {
                                this.showMobileSidebar = false;
                            }
                        });

                        // Handle click outside sidebar on mobile
                        document.addEventListener('click', (e) => {
                            if (window.innerWidth <= 768 && this.showMobileSidebar) {
                                if (!e.target.closest('.sidebar') && !e.target.closest('.sidebar-toggle')) {
                                    this.showMobileSidebar = false;
                                }
                            }
                        });
                    }
                }
            }).mount('#app');
        </script>
    </body>

</html>