<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Petroleum & Gas Admin - Template Match</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; background: #f5f5f5; }

        .admin-header { background: #2c3e50; color: white; padding: 15px 20px; }
        .admin-header h1 { color: #FFD200; margin-bottom: 5px; }
        .admin-header p { color: #bdc3c7; }

        .admin-container { display: flex; min-height: calc(100vh - 70px); }

        .sidebar { width: 250px; background: white; border-right: 1px solid #ddd; padding: 20px; }
        .tab-nav { list-style: none; }
        .tab-nav li { margin-bottom: 5px; }
        .tab-btn {
            display: block; width: 100%; padding: 12px 15px; background: #f8f9fa;
            border: none; border-radius: 5px; cursor: pointer; text-align: left;
            transition: all 0.3s;
        }
        .tab-btn:hover { background: #e9ecef; }
        .tab-btn.active { background: #FFD200; color: #333; font-weight: bold; }

        .content-area { flex: 1; padding: 20px; }
        .content-panel { background: white; border-radius: 8px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .content-panel.hidden { display: none; }

        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        .form-input, .form-textarea { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 4px; }
        .form-textarea { height: 100px; resize: vertical; }

        .btn { padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; }
        .btn-primary { background: #FFD200; color: #333; }
        .btn-primary:hover { background: #e6bd00; }
        .btn-success { background: #28a745; color: white; }
        .btn-danger { background: #dc3545; color: white; }

        .service-item, .slide-item {
            border: 1px solid #ddd; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9;
        }

        .colors-preview { display: flex; gap: 10px; margin: 10px 0; }
        .color-preview { width: 50px; height: 30px; border: 1px solid #ddd; border-radius: 4px; }

        .notification {
            position: fixed; top: 20px; right: 20px; padding: 15px 20px;
            border-radius: 5px; z-index: 1000; opacity: 0; transition: opacity 0.3s;
        }
        .notification.show { opacity: 1; }
        .notification.success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .notification.error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }

        .original-preview {
            border: 2px solid #FFD200; background: #fff; padding: 10px; margin: 10px 0; border-radius: 5px;
        }
        .original-preview h4 { color: #FFD200; margin-bottom: 5px; }
        .original-preview p { color: #666; font-size: 14px; }

        .template-match-note {
            background: linear-gradient(135deg, #FFD200 0%, #484939 100%);
            color: white; padding: 15px; border-radius: 8px; margin-bottom: 20px;
        }
        .template-match-note h3 { margin-bottom: 10px; }
    </style>
</head>
<body>
    <div id="app">
        <div class="admin-header">
            <h1><i class="fas fa-oil-well"></i> Petroleum & Gas CMS</h1>
            <p>Content Management System - Matching Original Template Design</p>
        </div>

        <div class="admin-container">
            <div class="sidebar">
                <ul class="tab-nav">
                    <li><button :class="['tab-btn', { active: activeTab === 'hero' }]" @click="activeTab = 'hero'">
                        <i class="fas fa-image"></i> Hero Slider
                    </button></li>
                    <li><button :class="['tab-btn', { active: activeTab === 'services' }]" @click="activeTab = 'services'">
                        <i class="fas fa-cogs"></i> Services
                    </button></li>
                    <li><button :class="['tab-btn', { active: activeTab === 'about' }]" @click="activeTab = 'about'">
                        <i class="fas fa-leaf"></i> About Section
                    </button></li>
                    <li><button :class="['tab-btn', { active: activeTab === 'branding' }]" @click="activeTab = 'branding'">
                        <i class="fas fa-palette"></i> Colors & Branding
                    </button></li>
                    <li><button :class="['tab-btn', { active: activeTab === 'preview' }]" @click="activeTab = 'preview'">
                        <i class="fas fa-eye"></i> Template Match Preview
                    </button></li>
                </ul>
            </div>

            <div class="content-area">
                <div class="template-match-note">
                    <h3><i class="fas fa-magic"></i> Template Matching System</h3>
                    <p>This admin interface is designed to produce content that matches the exact visual appearance of the original Petroleum & Gas template. All styling, colors, and layout elements are preserved.</p>
                </div>

                <!-- Hero Slider Panel -->
                <div :class="['content-panel', { hidden: activeTab !== 'hero' }]">
                    <h2><i class="fas fa-image"></i> Hero Slider Management</h2>
                    <div class="original-preview">
                        <h4>Original Template Structure:</h4>
                        <p><strong>Revolution Slider</strong> with background images, overlay text, and call-to-action buttons. Uses Montserrat font for titles.</p>
                    </div>

                    <div v-for="(slide, index) in content.hero.slides" :key="index" class="slide-item">
                        <h4>Slide {{ index + 1 }}</h4>
                        <div class="form-group">
                            <label>Background Image URL:</label>
                            <input v-model="slide.image" class="form-input" placeholder="Enter image URL">
                        </div>
                        <div class="form-group">
                            <label>Subtitle (Yellow Text):</label>
                            <input v-model="slide.subtitle" class="form-input" placeholder="e.g., NATURAL BEAUTY">
                        </div>
                        <div class="form-group">
                            <label>Main Title (White Text):</label>
                            <textarea v-model="slide.title" class="form-textarea" placeholder="e.g., Overcoming technology challenges: making the most of resources"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Button 1 Text:</label>
                            <input v-model="slide.button1Text" class="form-input" placeholder="READ MORE">
                        </div>
                        <div class="form-group">
                            <label>Button 2 Text:</label>
                            <input v-model="slide.button2Text" class="form-input" placeholder="GET QUOTE">
                        </div>
                        <button @click="removeSlide(index)" class="btn btn-danger" style="margin-top: 10px;">Remove Slide</button>
                    </div>

                    <button @click="addSlide" class="btn btn-success" style="margin: 10px 0;">Add New Slide</button>
                    <button @click="saveContent" class="btn btn-primary">Save Hero Slider</button>
                </div>

                <!-- Services Panel -->
                <div :class="['content-panel', { hidden: activeTab !== 'services' }]">
                    <h2><i class="fas fa-cogs"></i> Services Management</h2>
                    <div class="original-preview">
                        <h4>Original Template Structure:</h4>
                        <p><strong>Three column layout</strong> using "wd-section-blog text-center style2" classes. Each service has an icon image, title (h4.wd-title-element), and description paragraph.</p>
                    </div>

                    <div v-for="(service, index) in content.services.items" :key="index" class="service-item">
                        <h4>Service {{ index + 1 }}</h4>
                        <div class="form-group">
                            <label>Service Icon/Image URL:</label>
                            <input v-model="service.image" class="form-input" placeholder="Icon or image URL">
                        </div>
                        <div class="form-group">
                            <label>Service Title:</label>
                            <input v-model="service.title" class="form-input" placeholder="e.g., OIL EXTRACTION">
                        </div>
                        <div class="form-group">
                            <label>Service Description:</label>
                            <textarea v-model="service.description" class="form-textarea" placeholder="Service description text"></textarea>
                        </div>
                        <button @click="removeService(index)" class="btn btn-danger">Remove Service</button>
                    </div>

                    <button @click="addService" class="btn btn-success" style="margin: 10px 0;">Add New Service</button>
                    <button @click="saveContent" class="btn btn-primary">Save Services</button>
                </div>

                <!-- About Section Panel -->
                <div :class="['content-panel', { hidden: activeTab !== 'about' }]">
                    <h2><i class="fas fa-leaf"></i> About Section</h2>
                    <div class="original-preview">
                        <h4>Original Template Structure:</h4>
                        <p><strong>"Save The Planet!"</strong> section with two-column layout, title (h2), description (h5), and side image.</p>
                    </div>

                    <div class="form-group">
                        <label>About Title:</label>
                        <input v-model="content.aboutSection.title" class="form-input" placeholder="Save The Planet!">
                    </div>
                    <div class="form-group">
                        <label>About Description:</label>
                        <textarea v-model="content.aboutSection.description" class="form-textarea" placeholder="Sed posuere consectetur est at lobortis..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>About Image URL:</label>
                        <input v-model="content.aboutSection.image" class="form-input" placeholder="About section image URL">
                    </div>
                    <button @click="saveContent" class="btn btn-primary">Save About Section</button>
                </div>

                <!-- Colors & Branding Panel -->
                <div :class="['content-panel', { hidden: activeTab !== 'branding' }]">
                    <h2><i class="fas fa-palette"></i> Colors & Branding</h2>
                    <div class="original-preview">
                        <h4>Original Template Colors:</h4>
                        <div class="colors-preview">
                            <div class="color-preview" style="background: #FFD200;" title="Primary: #FFD200"></div>
                            <div class="color-preview" style="background: #484939;" title="Secondary: #484939"></div>
                        </div>
                        <p><strong>Fonts:</strong> Montserrat (headers, 700 weight), Open Sans (body, 400 weight)</p>
                    </div>

                    <div class="form-group">
                        <label>Primary Color (Yellow/Gold):</label>
                        <input v-model="content.siteSettings.primaryColor" type="color" class="form-input">
                        <small>Original: #FFD200</small>
                    </div>
                    <div class="form-group">
                        <label>Secondary Color (Dark Green/Gray):</label>
                        <input v-model="content.siteSettings.secondaryColor" type="color" class="form-input">
                        <small>Original: #484939</small>
                    </div>
                    <div class="form-group">
                        <label>Logo URL:</label>
                        <input v-model="content.siteSettings.logo.main" class="form-input" placeholder="Logo image URL">
                    </div>
                    <div class="form-group">
                        <label>Sticky Logo URL:</label>
                        <input v-model="content.siteSettings.logo.sticky" class="form-input" placeholder="Sticky/scrolled logo URL">
                    </div>
                    <button @click="saveContent" class="btn btn-primary">Save Branding</button>
                </div>

                <!-- Template Match Preview Panel -->
                <div :class="['content-panel', { hidden: activeTab !== 'preview' }]">
                    <h2><i class="fas fa-eye"></i> Template Match Preview</h2>
                    <p style="margin-bottom: 20px;">Preview how your content will appear with the original template styling:</p>

                    <div style="border: 2px solid #FFD200; padding: 20px; background: white; border-radius: 8px;">
                        <h3 style="color: #FFD200; font-family: Montserrat, sans-serif; margin-bottom: 20px;">Hero Section Preview</h3>
                        <div v-if="content.hero.slides.length" style="background: #333; color: white; padding: 30px; border-radius: 5px; position: relative;">
                            <div v-for="slide in content.hero.slides.slice(0,1)" :key="slide.title">
                                <h4 style="color: #FFD200; font-size: 16px; margin-bottom: 10px; font-family: Montserrat, sans-serif;">{{ slide.subtitle }}</h4>
                                <h2 style="font-size: 24px; margin-bottom: 20px; font-family: Montserrat, sans-serif; font-weight: 700;">{{ slide.title }}</h2>
                                <div>
                                    <button style="background: #FFD200; color: #333; padding: 10px 20px; margin-right: 10px; border: none; border-radius: 4px; font-weight: bold;">{{ slide.button1Text || 'READ MORE' }}</button>
                                    <button style="background: transparent; color: white; padding: 10px 20px; border: 2px solid white; border-radius: 4px; font-weight: bold;">{{ slide.button2Text || 'GET QUOTE' }}</button>
                                </div>
                            </div>
                        </div>

                        <h3 style="color: #FFD200; font-family: Montserrat, sans-serif; margin: 30px 0 20px;">Services Section Preview</h3>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                            <div v-for="service in content.services.items" :key="service.title"
                                 style="text-align: center; padding: 20px; background: #f9f9f9; border-radius: 5px;">
                                <img v-if="service.image" :src="service.image" style="width: 60px; height: 60px; margin-bottom: 15px; object-fit: cover;">
                                <h4 style="color: #333; font-family: Montserrat, sans-serif; font-weight: 700; margin-bottom: 10px;">{{ service.title }}</h4>
                                <p style="font-family: 'Open Sans', sans-serif; color: #666; line-height: 1.5;">{{ service.description }}</p>
                            </div>
                        </div>

                        <h3 style="color: #FFD200; font-family: Montserrat, sans-serif; margin: 30px 0 20px;">About Section Preview</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; align-items: center;">
                            <div>
                                <h2 style="font-family: Montserrat, sans-serif; font-weight: 700; color: #333; margin-bottom: 15px;">{{ content.aboutSection.title }}</h2>
                                <p style="font-family: 'Open Sans', sans-serif; color: #666; line-height: 1.6;">{{ content.aboutSection.description }}</p>
                            </div>
                            <div v-if="content.aboutSection.image">
                                <img :src="content.aboutSection.image" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notification -->
        <div v-if="notification.show" :class="['notification', notification.type, { show: notification.show }]">
            {{ notification.message }}
        </div>
    </div>

    <script>
        const { createApp } = Vue;

        createApp({
            data() {
                return {
                    activeTab: 'hero',
                    content: {
                        hero: {
                            slides: [
                                {
                                    image: '',
                                    subtitle: 'NATURAL BEAUTY',
                                    title: 'Overcoming technology challenges: making the most of resources',
                                    button1Text: 'READ MORE',
                                    button2Text: 'GET QUOTE'
                                }
                            ]
                        },
                        services: {
                            items: [
                                {
                                    image: '',
                                    title: 'OIL EXTRACTION',
                                    description: 'As the world\'s largest green and clean energy specialist of the printing and typesetting industry. Lorem has been the industry.'
                                },
                                {
                                    image: '',
                                    title: 'PIPELINES BUILDING',
                                    description: 'As the world\'s largest green and clean energy specialist of the printing and typesetting industry. Lorem has been the industry.'
                                },
                                {
                                    image: '',
                                    title: 'OIL REFINEMENT',
                                    description: 'As the world\'s largest green and clean energy specialist of the printing and typesetting industry. Lorem has been the industry.'
                                }
                            ]
                        },
                        aboutSection: {
                            title: 'Save The Planet!',
                            description: 'Sed posuere consectetur est at lobortis. Nullam id dolor id nibh ultricies vehicula ut id elit. Nullam id dolor id nibh ultricies vehicula ut id elit. Sed posuere consectetur est at lobortis. Nullam id dolor id nibh ultricies vehicula ut id elit. Sed posuere consectetur est at lobortis.',
                            image: ''
                        },
                        siteSettings: {
                            primaryColor: '#FFD200',
                            secondaryColor: '#484939',
                            logo: {
                                main: '',
                                sticky: ''
                            }
                        }
                    },
                    notification: {
                        show: false,
                        type: 'success',
                        message: ''
                    }
                }
            },

            methods: {
                addSlide() {
                    this.content.hero.slides.push({
                        image: '',
                        subtitle: '',
                        title: '',
                        button1Text: 'READ MORE',
                        button2Text: 'GET QUOTE'
                    });
                },

                removeSlide(index) {
                    this.content.hero.slides.splice(index, 1);
                },

                addService() {
                    this.content.services.items.push({
                        image: '',
                        title: '',
                        description: ''
                    });
                },

                removeService(index) {
                    this.content.services.items.splice(index, 1);
                },

                async saveContent() {
                    try {
                        const response = await fetch('/api/content', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                                'Authorization': 'Basic ' + btoa('admin:changeme')
                            },
                            body: JSON.stringify(this.content)
                        });

                        if (response.ok) {
                            this.showNotification('Content saved successfully! Changes will appear on your website.', 'success');
                        } else {
                            this.showNotification('Failed to save content', 'error');
                        }
                    } catch (error) {
                        this.showNotification('Error: ' + error.message, 'error');
                    }
                },

                showNotification(message, type) {
                    this.notification = {
                        show: true,
                        type,
                        message
                    };
                    setTimeout(() => {
                        this.notification.show = false;
                    }, 4000);
                },

                async loadContent() {
                    try {
                        const response = await fetch('/api/content', {
                            headers: {
                                'Authorization': 'Basic ' + btoa('admin:changeme')
                            }
                        });
                        if (response.ok) {
                            const data = await response.json();
                            this.content = { ...this.content, ...data };
                        }
                    } catch (error) {
                        console.error('Error loading content:', error);
                    }
                }
            },

            async mounted() {
                await this.loadContent();
                console.log('Petroleum & Gas Admin loaded - Template matching system ready!');
            }
        }).mount('#app');
    </script>
</body>
</html>